/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/socket";
exports.ids = ["pages/api/socket"];
exports.modules = {

/***/ "./server_src/quiz sync recursive ^\\.\\/.*$":
/*!****************************************!*\
  !*** ./server_src/quiz/ sync ^\.\/.*$ ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./q000": "./server_src/quiz/q000.json",
	"./q000.json": "./server_src/quiz/q000.json",
	"./q001": "./server_src/quiz/q001.json",
	"./q001.json": "./server_src/quiz/q001.json",
	"./q002": "./server_src/quiz/q002.json",
	"./q002.json": "./server_src/quiz/q002.json",
	"./q003": "./server_src/quiz/q003.json",
	"./q003.json": "./server_src/quiz/q003.json"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./server_src/quiz sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "bad-words":
/*!****************************!*\
  !*** external "bad-words" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("bad-words");

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("lodash");

/***/ }),

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = import("socket.io");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "(api)/./pages/api/socket.ts":
/*!*****************************!*\
  !*** ./pages/api/socket.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"initialGameData\": () => (/* binding */ initialGameData)\n/* harmony export */ });\n/* harmony import */ var socket_io__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io */ \"socket.io\");\n/* harmony import */ var _server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../server_src/socket/events */ \"(api)/./server_src/socket/events.ts\");\n/* harmony import */ var _src_utils_const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/utils/const */ \"(api)/./src/utils/const.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io__WEBPACK_IMPORTED_MODULE_0__, _server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__]);\n([socket_io__WEBPACK_IMPORTED_MODULE_0__, _server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst initialGameData = {\n    quizFileIndex: 0,\n    quizList: [],\n    started: false,\n    quizStarted: false,\n    quizEnded: false,\n    quizNumber: -1,\n    totalQuestions: -1,\n    startedTime: 0,\n    pin: \"\",\n    resultStep: -1,\n    extraEventStarted: false,\n    extraEventType: \"ON_STAGE\",\n    onStageName: null,\n    extraEventAnswered: null,\n    onStageRefusedList: [],\n    allAnswered: false\n};\nlet gameData = {\n    ...initialGameData\n};\nlet players = {};\nlet counter = _src_utils_const__WEBPACK_IMPORTED_MODULE_2__.NOT_COUNTING;\nlet quizData = {\n    q: \"\",\n    video: \"\",\n    qvideo: \"\",\n    startPitch: 0,\n    pitchPercentRelease: 10,\n    qblur: false,\n    lyrics: \"\",\n    answers: [],\n    keyboard: \"ABCD\",\n    blurImg: \"\"\n};\nlet quizAnswers = {};\nlet quizResult = {\n    answers: [],\n    correctAnswer: -1,\n    title: \"\"\n};\nconst dataUpdater = (socketData)=>{\n    gameData = socketData.gameData;\n    counter = socketData.counter;\n    players = socketData.players;\n    quizData = socketData.quizData;\n    quizAnswers = socketData.quizAnswers;\n    quizResult = socketData.quizResult;\n};\nconst SocketHandler = (req, res)=>{\n    if (!res.socket.server.io) {\n        const io = new socket_io__WEBPACK_IMPORTED_MODULE_0__.Server(res.socket.server);\n        res.socket.server.io = io;\n        io.on(\"connection\", (socket)=>{\n            (0,_server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__.connectPlayer)({\n                gameData,\n                counter,\n                players,\n                quizData,\n                quizAnswers,\n                quizResult,\n                quizFileIndex: 0\n            }, io, socket, dataUpdater);\n            Object.keys(_server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__.events).forEach((event)=>{\n                const eventType = event;\n                socket.on(event, (msg, cbFn)=>{\n                    const eventFn = _server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__.events[eventType];\n                    eventFn(io, socket, {\n                        gameData,\n                        counter,\n                        players,\n                        quizData,\n                        quizAnswers,\n                        quizResult,\n                        quizFileIndex: 0\n                    }, msg, dataUpdater, cbFn);\n                });\n            });\n        });\n    }\n    res.end();\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SocketHandler);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdELEtBQUs7Z0JBQ3ZCUCxNQUFNLENBQUNHLEVBQUUsQ0FBQ0ksS0FBSyxFQUFFLENBQUNFLEdBQUcsRUFBRUMsSUFBSSxHQUFLO29CQUM5QixNQUFNQyxPQUFPLEdBQUdyRCw2REFBTSxDQUFDa0QsU0FBUyxDQUFDO29CQUNqQ0csT0FBTyxDQUNMVCxFQUFFLEVBQ0ZGLE1BQU0sRUFDTjt3QkFDRXZCLFFBQVE7d0JBQ1JFLE9BQU87d0JBQ1BELE9BQU87d0JBQ1BFLFFBQVE7d0JBQ1JXLFdBQVc7d0JBQ1hDLFVBQVU7d0JBQ1YvQixhQUFhLEVBQUUsQ0FBQztxQkFDakIsRUFDRGdELEdBQUcsRUFDSGQsV0FBVyxFQUNYZSxJQUFJLENBQ0wsQ0FBQztpQkFDSCxDQUFDLENBQUM7YUFDSixDQUFDLENBQUM7U0FDSixDQUFDLENBQUM7S0FDSjtJQUNEWCxHQUFHLENBQUNhLEdBQUcsRUFBRSxDQUFDO0NBQ1g7QUFFRCxpRUFBZWYsYUFBYSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVhdC10aGUtbXVzaWMvLi9wYWdlcy9hcGkvc29ja2V0LnRzP2FkYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgU2VydmVyIH0gZnJvbSBcInNvY2tldC5pb1wiO1xuaW1wb3J0IHtcbiAgR2FtZURhdGEsXG4gIFBsYXllcnMsXG4gIFF1aXpBbnN3ZXIsXG4gIFF1aXpSZXN1bHQsXG4gIFNvY2tldERhdGEsXG59IGZyb20gXCIuLi8uLi9zZXJ2ZXJfc3JjL2ludGVyZmFjZXNcIjtcbmltcG9ydCB7XG4gIGNvbm5lY3RQbGF5ZXIsXG4gIGV2ZW50cyxcbiAgU29ja2V0RXZlbnQsXG59IGZyb20gXCIuLi8uLi9zZXJ2ZXJfc3JjL3NvY2tldC9ldmVudHNcIjtcbmltcG9ydCB7IFF1aXpEYXRhIH0gZnJvbSBcIi4uLy4uL3NyYy9zdG9yZS9HYW1lU3RvcmVcIjtcbmltcG9ydCB7IE5PVF9DT1VOVElORyB9IGZyb20gXCIuLi8uLi9zcmMvdXRpbHMvY29uc3RcIjtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxHYW1lRGF0YTogR2FtZURhdGEgPSB7XG4gIHF1aXpGaWxlSW5kZXg6IDAsXG4gIHF1aXpMaXN0OiBbXSxcbiAgc3RhcnRlZDogZmFsc2UsXG4gIHF1aXpTdGFydGVkOiBmYWxzZSxcbiAgcXVpekVuZGVkOiBmYWxzZSxcbiAgcXVpek51bWJlcjogLTEsXG4gIHRvdGFsUXVlc3Rpb25zOiAtMSxcbiAgc3RhcnRlZFRpbWU6IDAsXG4gIHBpbjogXCJcIixcbiAgcmVzdWx0U3RlcDogLTEsXG4gIGV4dHJhRXZlbnRTdGFydGVkOiBmYWxzZSxcbiAgZXh0cmFFdmVudFR5cGU6IFwiT05fU1RBR0VcIixcbiAgb25TdGFnZU5hbWU6IG51bGwsXG4gIGV4dHJhRXZlbnRBbnN3ZXJlZDogbnVsbCxcbiAgb25TdGFnZVJlZnVzZWRMaXN0OiBbXSxcbiAgYWxsQW5zd2VyZWQ6IGZhbHNlLFxufTtcblxubGV0IGdhbWVEYXRhOiBHYW1lRGF0YSA9IHsgLi4uaW5pdGlhbEdhbWVEYXRhIH07XG5sZXQgcGxheWVyczogUGxheWVycyA9IHt9O1xubGV0IGNvdW50ZXIgPSBOT1RfQ09VTlRJTkc7XG5sZXQgcXVpekRhdGE6IFF1aXpEYXRhID0ge1xuICBxOiBcIlwiLFxuICB2aWRlbzogXCJcIixcbiAgcXZpZGVvOiBcIlwiLFxuICBzdGFydFBpdGNoOiAwLFxuICBwaXRjaFBlcmNlbnRSZWxlYXNlOiAxMCxcbiAgcWJsdXI6IGZhbHNlLFxuICBseXJpY3M6IFwiXCIsXG4gIGFuc3dlcnM6IFtdLFxuICBrZXlib2FyZDogXCJBQkNEXCIsXG4gIGJsdXJJbWc6IFwiXCIsXG59O1xubGV0IHF1aXpBbnN3ZXJzOiBRdWl6QW5zd2VyID0ge307XG5sZXQgcXVpelJlc3VsdDogUXVpelJlc3VsdCA9IHsgYW5zd2VyczogW10sIGNvcnJlY3RBbnN3ZXI6IC0xLCB0aXRsZTogXCJcIiB9O1xuXG5jb25zdCBkYXRhVXBkYXRlciA9IChzb2NrZXREYXRhOiBTb2NrZXREYXRhKSA9PiB7XG4gIGdhbWVEYXRhID0gc29ja2V0RGF0YS5nYW1lRGF0YTtcbiAgY291bnRlciA9IHNvY2tldERhdGEuY291bnRlcjtcbiAgcGxheWVycyA9IHNvY2tldERhdGEucGxheWVycztcbiAgcXVpekRhdGEgPSBzb2NrZXREYXRhLnF1aXpEYXRhO1xuICBxdWl6QW5zd2VycyA9IHNvY2tldERhdGEucXVpekFuc3dlcnM7XG4gIHF1aXpSZXN1bHQgPSBzb2NrZXREYXRhLnF1aXpSZXN1bHQ7XG59O1xuXG5jb25zdCBTb2NrZXRIYW5kbGVyID0gKHJlcTogYW55LCByZXM6IGFueSkgPT4ge1xuICBpZiAoIXJlcy5zb2NrZXQuc2VydmVyLmlvKSB7XG4gICAgY29uc3QgaW8gPSBuZXcgU2VydmVyKHJlcy5zb2NrZXQuc2VydmVyKTtcbiAgICByZXMuc29ja2V0LnNlcnZlci5pbyA9IGlvO1xuXG4gICAgaW8ub24oXCJjb25uZWN0aW9uXCIsIChzb2NrZXQpID0+IHtcbiAgICAgIGNvbm5lY3RQbGF5ZXIoXG4gICAgICAgIHtcbiAgICAgICAgICBnYW1lRGF0YSxcbiAgICAgICAgICBjb3VudGVyLFxuICAgICAgICAgIHBsYXllcnMsXG4gICAgICAgICAgcXVpekRhdGEsXG4gICAgICAgICAgcXVpekFuc3dlcnMsXG4gICAgICAgICAgcXVpelJlc3VsdCxcbiAgICAgICAgICBxdWl6RmlsZUluZGV4OiAwLFxuICAgICAgICB9LFxuICAgICAgICBpbyxcbiAgICAgICAgc29ja2V0LFxuICAgICAgICBkYXRhVXBkYXRlclxuICAgICAgKTtcblxuICAgICAgT2JqZWN0LmtleXMoZXZlbnRzKS5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBldmVudFR5cGUgPSBldmVudCBhcyBTb2NrZXRFdmVudDtcbiAgICAgICAgc29ja2V0Lm9uKGV2ZW50LCAobXNnLCBjYkZuKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXZlbnRGbiA9IGV2ZW50c1tldmVudFR5cGVdO1xuICAgICAgICAgIGV2ZW50Rm4oXG4gICAgICAgICAgICBpbyxcbiAgICAgICAgICAgIHNvY2tldCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZ2FtZURhdGEsXG4gICAgICAgICAgICAgIGNvdW50ZXIsXG4gICAgICAgICAgICAgIHBsYXllcnMsXG4gICAgICAgICAgICAgIHF1aXpEYXRhLFxuICAgICAgICAgICAgICBxdWl6QW5zd2VycyxcbiAgICAgICAgICAgICAgcXVpelJlc3VsdCxcbiAgICAgICAgICAgICAgcXVpekZpbGVJbmRleDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtc2csXG4gICAgICAgICAgICBkYXRhVXBkYXRlcixcbiAgICAgICAgICAgIGNiRm5cbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJlcy5lbmQoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNvY2tldEhhbmRsZXI7XG4iXSwibmFtZXMiOlsiU2VydmVyIiwiY29ubmVjdFBsYXllciIsImV2ZW50cyIsIk5PVF9DT1VOVElORyIsImluaXRpYWxHYW1lRGF0YSIsInF1aXpGaWxlSW5kZXgiLCJxdWl6TGlzdCIsInN0YXJ0ZWQiLCJxdWl6U3RhcnRlZCIsInF1aXpFbmRlZCIsInF1aXpOdW1iZXIiLCJ0b3RhbFF1ZXN0aW9ucyIsInN0YXJ0ZWRUaW1lIiwicGluIiwicmVzdWx0U3RlcCIsImV4dHJhRXZlbnRTdGFydGVkIiwiZXh0cmFFdmVudFR5cGUiLCJvblN0YWdlTmFtZSIsImV4dHJhRXZlbnRBbnN3ZXJlZCIsIm9uU3RhZ2VSZWZ1c2VkTGlzdCIsImFsbEFuc3dlcmVkIiwiZ2FtZURhdGEiLCJwbGF5ZXJzIiwiY291bnRlciIsInF1aXpEYXRhIiwicSIsInZpZGVvIiwicXZpZGVvIiwic3RhcnRQaXRjaCIsInBpdGNoUGVyY2VudFJlbGVhc2UiLCJxYmx1ciIsImx5cmljcyIsImFuc3dlcnMiLCJrZXlib2FyZCIsImJsdXJJbWciLCJxdWl6QW5zd2VycyIsInF1aXpSZXN1bHQiLCJjb3JyZWN0QW5zd2VyIiwidGl0bGUiLCJkYXRhVXBkYXRlciIsInNvY2tldERhdGEiLCJTb2NrZXRIYW5kbGVyIiwicmVxIiwicmVzIiwic29ja2V0Iiwic2VydmVyIiwiaW8iLCJvbiIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiZXZlbnQiLCJldmVudFR5cGUiLCJtc2ciLCJjYkZuIiwiZXZlbnRGbiIsImVuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/socket.ts\n");

/***/ }),

/***/ "(api)/./server_src/socket/events.ts":
/*!*************************************!*\
  !*** ./server_src/socket/events.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connectPlayer\": () => (/* binding */ connectPlayer),\n/* harmony export */   \"emitData\": () => (/* binding */ emitData),\n/* harmony export */   \"events\": () => (/* binding */ events),\n/* harmony export */   \"getOnlinePlayers\": () => (/* binding */ getOnlinePlayers)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pages_api_socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../pages/api/socket */ \"(api)/./pages/api/socket.ts\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _src_utils_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/utils/const */ \"(api)/./src/utils/const.ts\");\n/* harmony import */ var bad_words__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bad-words */ \"bad-words\");\n/* harmony import */ var bad_words__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bad_words__WEBPACK_IMPORTED_MODULE_4__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_socket__WEBPACK_IMPORTED_MODULE_1__]);\n_pages_api_socket__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nlet counterInterval;\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst quizFiles = fs.readdirSync(\"./server_src/quiz/\").filter((file)=>file.endsWith(\".json\")\n).map((file)=>__webpack_require__(\"./server_src/quiz sync recursive ^\\\\.\\\\/.*$\")(`./${file}`)\n).map((qItem)=>{\n    const questions = qItem.questions.map((question)=>{\n        question.lyrics = question.lyrics ? fs.readFileSync(`./public/assets/text/${question.lyrics}`).toString() : \"\";\n        return question;\n    });\n    return {\n        ...qItem,\n        questions\n    };\n});\nconst getOnlinePlayers = (players)=>{\n    return lodash__WEBPACK_IMPORTED_MODULE_0___default().pickBy(players, (user)=>user.isOnline && user.isInRoom\n    );\n};\nconst BWFilter = new (bad_words__WEBPACK_IMPORTED_MODULE_4___default())();\nconst getAnswerScore = (gameState, answerIndex)=>{\n    const qNumber = gameState.gameData.quizNumber;\n    const correctAnswer = quizFiles[gameState.gameData.quizFileIndex].questions[qNumber].answer;\n    const isTrueFalse = gameState.quizData.keyboard === \"TRUEFALSE\";\n    const isCorrect = (isTrueFalse ? answerIndex === 0 ? true : false : answerIndex) === correctAnswer;\n    let score = 0;\n    if (isCorrect) {\n        score = 1;\n        const addrKeys = Object.keys(gameState.quizAnswers[qNumber]);\n        if (addrKeys && addrKeys.length > 0) {\n            // There are answers, but wrong\n            const noCorrectAnswers = addrKeys.every((addr)=>{\n                const answerItem = gameState.quizAnswers[qNumber][addr];\n                return answerItem.answerIndex !== correctAnswer;\n            });\n            if (noCorrectAnswers) {\n                score = 2;\n            }\n        } else {\n            // There are no answers yet, 2 points\n            score = 2;\n        }\n    }\n    return score;\n};\nconst connectPlayer = (gameState, io, socket, updateData)=>{\n    const addr = socket.handshake.address;\n    const id = socket.id;\n    if (!gameState.players[addr]) {\n        gameState.players[addr] = {\n            name: \"\",\n            score: 0,\n            isOnline: true,\n            isInRoom: false,\n            id\n        };\n    } else {\n        gameState.players[addr].isOnline = true;\n        gameState.players[addr].id = id;\n    }\n    updateData(gameState);\n    emitData(gameState, io);\n};\nconst emitData = (gameState, io)=>{\n    gameState.gameData.quizList = quizFiles.map((quiz)=>{\n        return {\n            name: quiz.title\n        };\n    });\n    io.emit(\"online-players\", getOnlinePlayers(gameState.players));\n    io.emit(\"game-data\", gameState.gameData);\n    io.emit(\"quiz-counter\", gameState.counter);\n    io.emit(\"quiz-data\", gameState.quizData);\n    io.emit(\"quiz-result\", gameState.quizResult);\n    emitRanking(gameState, io);\n    io.fetchSockets().then((sockets)=>{\n        sockets.forEach((socketItem)=>{\n            const addr = socketItem.handshake.address;\n            const qNumber = gameState.gameData.quizNumber;\n            let clientQuizAnswer = {\n                answerIndex: -1,\n                answerTime: new Date(),\n                answerScore: 0,\n                answerElapsed: 0\n            };\n            if (qNumber > -1 && gameState.quizAnswers[gameState.gameData.quizNumber][addr]) {\n                clientQuizAnswer = gameState.quizAnswers[gameState.gameData.quizNumber][addr];\n            }\n            socketItem.emit(\"answer-data\", {\n                answerIndex: clientQuizAnswer.answerIndex,\n                answerTime: clientQuizAnswer.answerTime.getTime(),\n                answerScore: clientQuizAnswer.answerScore,\n                answerElapsed: clientQuizAnswer.answerElapsed\n            });\n        });\n    });\n};\nconst getCurrentRanking = (data, players)=>{\n    let ranking = {};\n    Object.keys(data).forEach((quizQ)=>{\n        const quizQN = parseInt(quizQ, 10);\n        Object.keys(data[quizQN]).forEach((item)=>{\n            if (ranking[item]) {\n                ranking[item].score = ranking[item].score + data[quizQN][item].answerScore;\n                ranking[item].roundTime = data[quizQN][item].answerElapsed;\n                ranking[item].answeredQuestions = ranking[item].answeredQuestions + 1;\n                ranking[item].timeAvg = ranking[item].timeAvg + data[quizQN][item].answerElapsed;\n            } else {\n                ranking[item] = {\n                    name: players[item].name,\n                    score: data[quizQN][item].answerScore,\n                    roundTime: data[quizQN][item].answerElapsed,\n                    timeAvg: data[quizQN][item].answerElapsed,\n                    answeredQuestions: 1\n                };\n            }\n        });\n    });\n    const rankingArray = Object.keys(ranking).map((rankingItem)=>{\n        ranking[rankingItem].timeAvg = ranking[rankingItem].timeAvg / ranking[rankingItem].answeredQuestions;\n        return ranking[rankingItem];\n    });\n    return lodash__WEBPACK_IMPORTED_MODULE_0___default().sortBy(rankingArray, (el)=>el.score\n    ).reverse().slice(0, 15);\n};\nconst emitRanking = (gameState, io)=>{\n    const ranking = getCurrentRanking(gameState.quizAnswers, gameState.players);\n    io.fetchSockets().then((sockets)=>{\n        const liveSockets = sockets.filter((socket)=>{\n            return socket.data.liveInstance;\n        });\n        liveSockets.forEach((socket)=>{\n            socket.emit(\"data-ranking\", ranking);\n        });\n    });\n};\nconst getInternalIP = ()=>{\n    const address = lodash__WEBPACK_IMPORTED_MODULE_0___default()((0,os__WEBPACK_IMPORTED_MODULE_2__.networkInterfaces)()).values().map((a)=>lodash__WEBPACK_IMPORTED_MODULE_0___default().find(a, {\n            family: \"IPv4\"\n        })\n    ).compact().map(\"address\").value().find((ip)=>ip !== \"127.0.0.1\"\n    );\n    return address || \"\";\n};\nconst events = {\n    \"init-live\": (io, socket, gameState, msg, updateData, cbFn)=>{\n        socket.data = {\n            liveInstance: true\n        };\n        socket.emit(\"game-data\", gameState.gameData);\n        const ip = getInternalIP();\n        cbFn(ip);\n    },\n    \"end-game\": (io, socket, gameState, msg, updateData)=>{\n        gameState.gameData = {\n            ..._pages_api_socket__WEBPACK_IMPORTED_MODULE_1__.initialGameData\n        };\n        Object.keys(gameState.players).forEach((pKey)=>{\n            const currPlayer = gameState.players[pKey];\n            gameState.players[pKey] = {\n                ...currPlayer,\n                name: \"\",\n                score: 0,\n                isInRoom: false\n            };\n        });\n        gameState.players = lodash__WEBPACK_IMPORTED_MODULE_0___default().pickBy(gameState.players, (p)=>{\n            return p.isOnline && p.isInRoom;\n        });\n        gameState.counter = _src_utils_const__WEBPACK_IMPORTED_MODULE_3__.NOT_COUNTING;\n        gameState.quizAnswers = {};\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"start-game\": (io, socket, gameState, msg, updateData)=>{\n        gameState.gameData.quizFileIndex = msg;\n        gameState.gameData.started = true;\n        gameState.gameData.quizStarted = false;\n        gameState.gameData.startedTime = new Date().getTime();\n        gameState.gameData.pin = lodash__WEBPACK_IMPORTED_MODULE_0___default().range(0, 6).map(()=>lodash__WEBPACK_IMPORTED_MODULE_0___default().random(0, 9)\n        ).join(\"\");\n        gameState.counter = _src_utils_const__WEBPACK_IMPORTED_MODULE_3__.NOT_COUNTING;\n        gameState.gameData.onStageRefusedList = [];\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"start-quiz\": (io, socket, gameState, msg, updateData)=>{\n        gameState.gameData.resultStep = -1;\n        gameState.counter = 3;\n        gameState.gameData.quizNumber = gameState.gameData.quizNumber + 1;\n        gameState.gameData.quizStarted = true;\n        gameState.quizAnswers[gameState.gameData.quizNumber] = {};\n        gameState.gameData.totalQuestions = quizFiles[gameState.gameData.quizFileIndex].questions.length;\n        gameState.gameData.extraEventAnswered = null;\n        gameState.gameData.extraEventStarted = false;\n        gameState.gameData.onStageName = null;\n        gameState.gameData.allAnswered = false;\n        emitData(gameState, io);\n        io.emit(\"quiz-counter\", _src_utils_const__WEBPACK_IMPORTED_MODULE_3__.GAME_STARTING);\n        if (counterInterval) {\n            clearInterval(counterInterval);\n        }\n        counterInterval = setInterval(()=>{\n            io.emit(\"quiz-counter\", gameState.counter);\n            if (gameState.counter === 0) {\n                const quizItem = quizFiles[gameState.gameData.quizFileIndex].questions[gameState.gameData.quizNumber];\n                gameState.quizData = {\n                    q: quizItem.question,\n                    video: quizItem.video,\n                    qvideo: quizItem.qvideo,\n                    startPitch: quizItem.startPitch,\n                    pitchPercentRelease: quizItem.pitchPercentRelease,\n                    lyrics: quizItem.lyrics,\n                    qblur: quizItem.qblur,\n                    blurImg: quizItem.blurImg,\n                    keyboard: quizItem.keyboard,\n                    answers: quizItem.keyboard === \"TRUEFALSE\" ? [\n                        \"V\",\n                        \"F\"\n                    ] : quizItem.options\n                };\n                io.emit(\"quiz-data\", gameState.quizData);\n                clearInterval(counterInterval);\n                gameState.gameData.startedTime = new Date().getTime();\n                updateData(gameState);\n            } else {\n                gameState.counter--;\n                updateData(gameState);\n            }\n        }, 1000);\n    },\n    \"join-game\": (io, socket, gameState, msg, updateData, cbFn)=>{\n        const addr = socket.handshake.address;\n        if (msg.pin === gameState.gameData.pin && gameState.gameData.started) {\n            gameState.players[addr].id = socket.id;\n            gameState.players[addr].isOnline = true;\n            const takenNames = Object.keys(gameState.players).map((pKey)=>{\n                return gameState.players[pKey].name;\n            }).filter((name)=>{\n                return name !== \"\";\n            });\n            if (!takenNames.includes(msg.name)) {\n                if (BWFilter.isProfane(msg.name)) {\n                    cbFn({\n                        error: \"IS_PROFANE\"\n                    });\n                } else {\n                    gameState.players[addr].name = msg.name;\n                    gameState.players[addr].isInRoom = true;\n                }\n            } else {\n                cbFn({\n                    error: \"ALREADY_TAKEN\"\n                });\n            }\n            updateData(gameState);\n            emitData(gameState, io);\n        } else {\n            cbFn({\n                error: \"WRONG_PIN\"\n            });\n        }\n    },\n    disconnect: (io, socket, gameState, msg, updateData)=>{\n        const addr = socket.handshake.address;\n        if (!socket.data.liveInstance) {\n            gameState.players[addr].isOnline = false;\n            updateData(gameState);\n            emitData(gameState, io);\n        }\n    },\n    \"answer-question\": (io, socket, gameState, answerIndex, updateData)=>{\n        const addr = socket.handshake.address;\n        const answerScore = getAnswerScore(gameState, answerIndex);\n        const isTrueFalse = gameState.quizData.keyboard === \"TRUEFALSE\";\n        const answerResult = {\n            answerIndex: isTrueFalse ? answerIndex === 0 ? true : false : answerIndex,\n            answerTime: new Date(),\n            answerScore,\n            answerElapsed: new Date().getTime() - gameState.gameData.startedTime\n        };\n        if (!gameState.quizAnswers[gameState.gameData.quizNumber]) {\n            gameState.quizAnswers[gameState.gameData.quizNumber] = {};\n        }\n        gameState.quizAnswers[gameState.gameData.quizNumber][addr] = answerResult;\n        // check if quizAnswers[quizNumber] length is the same as total isOnline players\n        gameState.gameData.allAnswered = Object.keys(gameState.quizAnswers[gameState.gameData.quizNumber]).length === Object.keys(gameState.players).filter((pKey)=>{\n            return gameState.players[pKey].isOnline && gameState.players[pKey].isInRoom;\n        }).length;\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"end-quiz\": (io, socket, gameState, msg, updateData)=>{\n        gameState.counter = _src_utils_const__WEBPACK_IMPORTED_MODULE_3__.SHOW_RESULTS;\n        gameState.gameData.resultStep = 0;\n        const quizNumber = gameState.gameData.quizNumber;\n        const quizQuestion = quizFiles[gameState.gameData.quizFileIndex].questions[quizNumber];\n        gameState.gameData.quizEnded = quizNumber + 1 === quizFiles[gameState.gameData.quizFileIndex].questions.length;\n        let options;\n        switch(quizQuestion.keyboard){\n            case \"ABCD\":\n                var ref;\n                options = (ref = quizQuestion.options) === null || ref === void 0 ? void 0 : ref.map((q, i)=>i\n                );\n                break;\n            case \"TRUEFALSE\":\n                options = [\n                    true,\n                    false\n                ];\n        }\n        const resultsByAnswer = options.map((q, i)=>{\n            return {\n                answerCode: lodash__WEBPACK_IMPORTED_MODULE_0___default().isBoolean(q) ? [\n                    \"V\",\n                    \"F\"\n                ][i] : String.fromCharCode(65 + i),\n                people: Object.keys(lodash__WEBPACK_IMPORTED_MODULE_0___default().pickBy(gameState.quizAnswers[quizNumber], (addr)=>{\n                    return addr.answerIndex === q;\n                })).length\n            };\n        });\n        gameState.quizResult = {\n            title: quizFiles[gameState.gameData.quizFileIndex].title,\n            correctAnswer: quizQuestion.answer,\n            answers: resultsByAnswer\n        };\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"next-resultstep\": (io, socket, gameState, msg, updateData)=>{\n        const resStep = gameState.gameData.resultStep;\n        gameState.gameData.extraEventStarted = false;\n        gameState.gameData.extraEventAnswered = null;\n        gameState.gameData.onStageName = null;\n        if (resStep === 3) {\n            events[\"end-game\"](io, socket, gameState, msg, updateData);\n            return;\n        }\n        if (resStep < 2 || resStep === 2 && gameState.gameData.quizEnded) {\n            gameState.gameData.resultStep = resStep + 1;\n            updateData(gameState);\n            emitData(gameState, io);\n        } else {\n            events[\"start-quiz\"](io, socket, gameState, msg, updateData);\n        }\n    },\n    \"start-extraevent\": (io, socket, gameState, msg, updateData)=>{\n        gameState.gameData.extraEventStarted = true;\n        gameState.gameData.started = true;\n        gameState.gameData.extraEventType = msg.type;\n        gameState.gameData.onStageName = null;\n        gameState.gameData.extraEventAnswered = null;\n        if (gameState.gameData.extraEventType === \"ON_STAGE\") {\n            setTimeout(()=>{\n                // get random player from gameState.players who isInRoom and is not in onStageRefusedList\n                const onStageRefusedList = gameState.gameData.onStageRefusedList;\n                const randomPlayer = lodash__WEBPACK_IMPORTED_MODULE_0___default().sample(lodash__WEBPACK_IMPORTED_MODULE_0___default().pickBy(gameState.players, (p)=>{\n                    return p.isInRoom && !onStageRefusedList.includes(p.id);\n                }));\n                // const randomPlayer = _.sample(Object.values(gameState.players));\n                if (randomPlayer) {\n                    gameState.gameData.onStageName = randomPlayer.name;\n                }\n                updateData(gameState);\n                emitData(gameState, io);\n            }, 5000);\n        }\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"answer-extraevent\": (io, socket, gameState, msg, updateData)=>{\n        const addr = socket.handshake.address;\n        const player = gameState.players[addr];\n        if (gameState.gameData.extraEventStarted && player.name === gameState.gameData.onStageName) {\n            gameState.gameData.extraEventAnswered = msg;\n            if (!msg) {\n                gameState.gameData.onStageRefusedList = [\n                    ...gameState.gameData.onStageRefusedList,\n                    player.id, \n                ];\n                // reset list if all players refused\n                if (gameState.gameData.onStageRefusedList.length === Object.keys(gameState.players).length) {\n                    gameState.gameData.onStageRefusedList = [];\n                }\n            }\n            updateData(gameState);\n            emitData(gameState, io);\n        }\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNDLE9BQU87UUFDckMsTUFBTXFHLE1BQU0sR0FBR2hJLFNBQVMsQ0FBQ1AsT0FBTyxDQUFDMkIsSUFBSSxDQUFDO1FBRXRDLElBQ0VwQixTQUFTLENBQUNHLFFBQVEsQ0FBQ3lGLGlCQUFpQixJQUNwQ29DLE1BQU0sQ0FBQ25HLElBQUksS0FBSzdCLFNBQVMsQ0FBQ0csUUFBUSxDQUFDMEYsV0FBVyxFQUM5QztZQUNBN0YsU0FBUyxDQUFDRyxRQUFRLENBQUN3RixrQkFBa0IsR0FBR2YsR0FBRyxDQUFDO1lBQzVDLElBQUksQ0FBQ0EsR0FBRyxFQUFFO2dCQUNSNUUsU0FBUyxDQUFDRyxRQUFRLENBQUNxRixrQkFBa0IsR0FBRzt1QkFDbkN4RixTQUFTLENBQUNHLFFBQVEsQ0FBQ3FGLGtCQUFrQjtvQkFDeEN3QyxNQUFNLENBQUNwRyxFQUFFO2lCQUNWLENBQUM7Z0JBRUYsb0NBQW9DO2dCQUNwQyxJQUNFNUIsU0FBUyxDQUFDRyxRQUFRLENBQUNxRixrQkFBa0IsQ0FBQ3ZFLE1BQU0sS0FDNUNILE1BQU0sQ0FBQ0MsSUFBSSxDQUFDZixTQUFTLENBQUNQLE9BQU8sQ0FBQyxDQUFDd0IsTUFBTSxFQUNyQztvQkFDQWpCLFNBQVMsQ0FBQ0csUUFBUSxDQUFDcUYsa0JBQWtCLEdBQUcsRUFBRSxDQUFDO2lCQUM1QzthQUNGO1lBQ0QvRCxVQUFVLENBQUN6QixTQUFTLENBQUMsQ0FBQztZQUN0QjhCLFFBQVEsQ0FBQzlCLFNBQVMsRUFBRXVCLEVBQUUsQ0FBQyxDQUFDO1NBQ3pCO0tBQ0Y7Q0FDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVhdC10aGUtbXVzaWMvLi9zZXJ2ZXJfc3JjL3NvY2tldC9ldmVudHMudHM/ZDVlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBTZXJ2ZXIsIFNvY2tldCB9IGZyb20gXCJzb2NrZXQuaW9cIjtcbmltcG9ydCB7IERlZmF1bHRFdmVudHNNYXAgfSBmcm9tIFwic29ja2V0LmlvL2Rpc3QvdHlwZWQtZXZlbnRzXCI7XG5pbXBvcnQgeyBpbml0aWFsR2FtZURhdGEgfSBmcm9tIFwiLi4vLi4vcGFnZXMvYXBpL3NvY2tldFwiO1xuaW1wb3J0IHsgbmV0d29ya0ludGVyZmFjZXMgfSBmcm9tIFwib3NcIjtcblxuaW1wb3J0IHtcbiAgR0FNRV9TVEFSVElORyxcbiAgTk9UX0NPVU5USU5HLFxuICBTSE9XX1JFU1VMVFMsXG59IGZyb20gXCIuLi8uLi9zcmMvdXRpbHMvY29uc3RcIjtcbmltcG9ydCB7XG4gIFBsYXllcnMsXG4gIFF1aXpBbnN3ZXIsXG4gIFF1aXpFbnRyeSxcbiAgUXVpelJlc3VsdEFuc3dlcixcbiAgUmFua2luZ0RhdGEsXG4gIFNpbmdsZUFuc3dlcixcbiAgU29ja2V0RGF0YSxcbn0gZnJvbSBcIi4uL2ludGVyZmFjZXNcIjtcbmltcG9ydCBCYWRXb3JkcyBmcm9tIFwiYmFkLXdvcmRzXCI7XG5cbmV4cG9ydCB0eXBlIFNvY2tldEV2ZW50ID1cbiAgfCBcImluaXQtbGl2ZVwiXG4gIHwgXCJzdGFydC1nYW1lXCJcbiAgfCBcImVuZC1nYW1lXCJcbiAgfCBcImpvaW4tZ2FtZVwiXG4gIHwgXCJkaXNjb25uZWN0XCJcbiAgfCBcInN0YXJ0LXF1aXpcIlxuICB8IFwiYW5zd2VyLXF1ZXN0aW9uXCJcbiAgfCBcImVuZC1xdWl6XCJcbiAgfCBcIm5leHQtcmVzdWx0c3RlcFwiXG4gIHwgXCJzdGFydC1leHRyYWV2ZW50XCJcbiAgfCBcImFuc3dlci1leHRyYWV2ZW50XCI7XG5cbnR5cGUgSUlPID0gU2VydmVyPERlZmF1bHRFdmVudHNNYXAsIERlZmF1bHRFdmVudHNNYXAsIERlZmF1bHRFdmVudHNNYXAsIGFueT47XG50eXBlIElTb2NrZXQgPSBTb2NrZXQ8XG4gIERlZmF1bHRFdmVudHNNYXAsXG4gIERlZmF1bHRFdmVudHNNYXAsXG4gIERlZmF1bHRFdmVudHNNYXAsXG4gIGFueVxuPjtcbmxldCBjb3VudGVySW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0O1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBxdWl6RmlsZXMgPSAoXG4gIGZzXG4gICAgLnJlYWRkaXJTeW5jKFwiLi9zZXJ2ZXJfc3JjL3F1aXovXCIpXG4gICAgLmZpbHRlcigoZmlsZTogc3RyaW5nKSA9PiBmaWxlLmVuZHNXaXRoKFwiLmpzb25cIikpXG4gICAgLm1hcCgoZmlsZTogc3RyaW5nKSA9PiByZXF1aXJlKGAuLi9xdWl6LyR7ZmlsZX1gKSkgYXMgUXVpekVudHJ5W11cbikubWFwKChxSXRlbSkgPT4ge1xuICBjb25zdCBxdWVzdGlvbnMgPSBxSXRlbS5xdWVzdGlvbnMubWFwKChxdWVzdGlvbikgPT4ge1xuICAgIHF1ZXN0aW9uLmx5cmljcyA9IHF1ZXN0aW9uLmx5cmljc1xuICAgICAgPyBmcy5yZWFkRmlsZVN5bmMoYC4vcHVibGljL2Fzc2V0cy90ZXh0LyR7cXVlc3Rpb24ubHlyaWNzfWApLnRvU3RyaW5nKClcbiAgICAgIDogXCJcIjtcbiAgICByZXR1cm4gcXVlc3Rpb247XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIC4uLnFJdGVtLFxuICAgIHF1ZXN0aW9ucyxcbiAgfTtcbn0pO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50RGF0YUZuIHtcbiAgaW86IElJTztcbiAgc29ja2V0OiBJU29ja2V0O1xuICBnYW1lU3RhdGU6IFNvY2tldERhdGE7XG4gIG1zZzogYW55O1xuICB1cGRhdGVEYXRhOiAoZ2FtZVN0YXRlOiBTb2NrZXREYXRhKSA9PiB2b2lkO1xufVxuXG50eXBlIEV2ZW50RGF0YSA9IHtcbiAgW2sgaW4gU29ja2V0RXZlbnRdOiAoXG4gICAgaW86IElJTyxcbiAgICBzb2NrZXQ6IElTb2NrZXQsXG4gICAgZ2FtZVN0YXRlOiBTb2NrZXREYXRhLFxuICAgIG1zZzogYW55LFxuICAgIHVwZGF0ZURhdGE6IChnYW1lU3RhdGU6IFNvY2tldERhdGEpID0+IHZvaWQsXG4gICAgY2JGbj86IChyZXNwb25zZTogYW55KSA9PiB2b2lkXG4gICkgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPbmxpbmVQbGF5ZXJzID0gKHBsYXllcnM6IFBsYXllcnMpID0+IHtcbiAgcmV0dXJuIF8ucGlja0J5KHBsYXllcnMsICh1c2VyKSA9PiB1c2VyLmlzT25saW5lICYmIHVzZXIuaXNJblJvb20pO1xufTtcblxuY29uc3QgQldGaWx0ZXIgPSBuZXcgQmFkV29yZHMoKTtcblxuY29uc3QgZ2V0QW5zd2VyU2NvcmUgPSAoZ2FtZVN0YXRlOiBTb2NrZXREYXRhLCBhbnN3ZXJJbmRleDogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHFOdW1iZXIgPSBnYW1lU3RhdGUuZ2FtZURhdGEucXVpek51bWJlcjtcbiAgY29uc3QgY29ycmVjdEFuc3dlciA9XG4gICAgcXVpekZpbGVzW2dhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6RmlsZUluZGV4XS5xdWVzdGlvbnNbcU51bWJlcl0uYW5zd2VyO1xuXG4gIGNvbnN0IGlzVHJ1ZUZhbHNlID0gZ2FtZVN0YXRlLnF1aXpEYXRhLmtleWJvYXJkID09PSBcIlRSVUVGQUxTRVwiO1xuXG4gIGNvbnN0IGlzQ29ycmVjdCA9XG4gICAgKGlzVHJ1ZUZhbHNlID8gKGFuc3dlckluZGV4ID09PSAwID8gdHJ1ZSA6IGZhbHNlKSA6IGFuc3dlckluZGV4KSA9PT1cbiAgICBjb3JyZWN0QW5zd2VyO1xuXG4gIGxldCBzY29yZSA9IDA7XG4gIGlmIChpc0NvcnJlY3QpIHtcbiAgICBzY29yZSA9IDE7XG4gICAgY29uc3QgYWRkcktleXMgPSBPYmplY3Qua2V5cyhnYW1lU3RhdGUucXVpekFuc3dlcnNbcU51bWJlcl0pO1xuICAgIGlmIChhZGRyS2V5cyAmJiBhZGRyS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBUaGVyZSBhcmUgYW5zd2VycywgYnV0IHdyb25nXG4gICAgICBjb25zdCBub0NvcnJlY3RBbnN3ZXJzID0gYWRkcktleXMuZXZlcnkoKGFkZHIpID0+IHtcbiAgICAgICAgY29uc3QgYW5zd2VySXRlbSA9IGdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1txTnVtYmVyXVthZGRyXTtcbiAgICAgICAgcmV0dXJuIGFuc3dlckl0ZW0uYW5zd2VySW5kZXggIT09IGNvcnJlY3RBbnN3ZXI7XG4gICAgICB9KTtcbiAgICAgIGlmIChub0NvcnJlY3RBbnN3ZXJzKSB7XG4gICAgICAgIHNjb3JlID0gMjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlcmUgYXJlIG5vIGFuc3dlcnMgeWV0LCAyIHBvaW50c1xuICAgICAgc2NvcmUgPSAyO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2NvcmU7XG59O1xuXG5leHBvcnQgY29uc3QgY29ubmVjdFBsYXllciA9IChcbiAgZ2FtZVN0YXRlOiBTb2NrZXREYXRhLFxuICBpbzogU2VydmVyPERlZmF1bHRFdmVudHNNYXAsIERlZmF1bHRFdmVudHNNYXAsIERlZmF1bHRFdmVudHNNYXAsIGFueT4sXG4gIHNvY2tldDogU29ja2V0PERlZmF1bHRFdmVudHNNYXAsIERlZmF1bHRFdmVudHNNYXAsIERlZmF1bHRFdmVudHNNYXAsIGFueT4sXG4gIHVwZGF0ZURhdGE6IChnYW1lU3RhdGU6IFNvY2tldERhdGEpID0+IHZvaWRcbikgPT4ge1xuICBjb25zdCBhZGRyID0gc29ja2V0LmhhbmRzaGFrZS5hZGRyZXNzO1xuICBjb25zdCBpZCA9IHNvY2tldC5pZDtcbiAgaWYgKCFnYW1lU3RhdGUucGxheWVyc1thZGRyXSkge1xuICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdID0ge1xuICAgICAgbmFtZTogXCJcIixcbiAgICAgIHNjb3JlOiAwLFxuICAgICAgaXNPbmxpbmU6IHRydWUsXG4gICAgICBpc0luUm9vbTogZmFsc2UsXG4gICAgICBpZCxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdLmlzT25saW5lID0gdHJ1ZTtcbiAgICBnYW1lU3RhdGUucGxheWVyc1thZGRyXS5pZCA9IGlkO1xuICB9XG4gIHVwZGF0ZURhdGEoZ2FtZVN0YXRlKTtcbiAgZW1pdERhdGEoZ2FtZVN0YXRlLCBpbyk7XG59O1xuXG5leHBvcnQgY29uc3QgZW1pdERhdGEgPSAoXG4gIGdhbWVTdGF0ZTogU29ja2V0RGF0YSxcbiAgaW86IFNlcnZlcjxEZWZhdWx0RXZlbnRzTWFwLCBEZWZhdWx0RXZlbnRzTWFwLCBEZWZhdWx0RXZlbnRzTWFwLCBhbnk+XG4pID0+IHtcbiAgZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpMaXN0ID0gcXVpekZpbGVzLm1hcCgocXVpeikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBxdWl6LnRpdGxlLFxuICAgIH07XG4gIH0pO1xuXG4gIGlvLmVtaXQoXCJvbmxpbmUtcGxheWVyc1wiLCBnZXRPbmxpbmVQbGF5ZXJzKGdhbWVTdGF0ZS5wbGF5ZXJzKSk7XG4gIGlvLmVtaXQoXCJnYW1lLWRhdGFcIiwgZ2FtZVN0YXRlLmdhbWVEYXRhKTtcbiAgaW8uZW1pdChcInF1aXotY291bnRlclwiLCBnYW1lU3RhdGUuY291bnRlcik7XG4gIGlvLmVtaXQoXCJxdWl6LWRhdGFcIiwgZ2FtZVN0YXRlLnF1aXpEYXRhKTtcbiAgaW8uZW1pdChcInF1aXotcmVzdWx0XCIsIGdhbWVTdGF0ZS5xdWl6UmVzdWx0KTtcblxuICBlbWl0UmFua2luZyhnYW1lU3RhdGUsIGlvKTtcbiAgaW8uZmV0Y2hTb2NrZXRzKCkudGhlbigoc29ja2V0cykgPT4ge1xuICAgIHNvY2tldHMuZm9yRWFjaCgoc29ja2V0SXRlbSkgPT4ge1xuICAgICAgY29uc3QgYWRkciA9IHNvY2tldEl0ZW0uaGFuZHNoYWtlLmFkZHJlc3M7XG4gICAgICBjb25zdCBxTnVtYmVyID0gZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpOdW1iZXI7XG4gICAgICBsZXQgY2xpZW50UXVpekFuc3dlcjogU2luZ2xlQW5zd2VyID0ge1xuICAgICAgICBhbnN3ZXJJbmRleDogLTEsXG4gICAgICAgIGFuc3dlclRpbWU6IG5ldyBEYXRlKCksXG4gICAgICAgIGFuc3dlclNjb3JlOiAwLFxuICAgICAgICBhbnN3ZXJFbGFwc2VkOiAwLFxuICAgICAgfTtcblxuICAgICAgaWYgKFxuICAgICAgICBxTnVtYmVyID4gLTEgJiZcbiAgICAgICAgZ2FtZVN0YXRlLnF1aXpBbnN3ZXJzW2dhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyXVthZGRyXVxuICAgICAgKSB7XG4gICAgICAgIGNsaWVudFF1aXpBbnN3ZXIgPVxuICAgICAgICAgIGdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1tnYW1lU3RhdGUuZ2FtZURhdGEucXVpek51bWJlcl1bYWRkcl07XG4gICAgICB9XG4gICAgICBzb2NrZXRJdGVtLmVtaXQoXCJhbnN3ZXItZGF0YVwiLCB7XG4gICAgICAgIGFuc3dlckluZGV4OiBjbGllbnRRdWl6QW5zd2VyLmFuc3dlckluZGV4LFxuICAgICAgICBhbnN3ZXJUaW1lOiBjbGllbnRRdWl6QW5zd2VyLmFuc3dlclRpbWUuZ2V0VGltZSgpLFxuICAgICAgICBhbnN3ZXJTY29yZTogY2xpZW50UXVpekFuc3dlci5hbnN3ZXJTY29yZSxcbiAgICAgICAgYW5zd2VyRWxhcHNlZDogY2xpZW50UXVpekFuc3dlci5hbnN3ZXJFbGFwc2VkLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuY29uc3QgZ2V0Q3VycmVudFJhbmtpbmcgPSAoZGF0YTogUXVpekFuc3dlciwgcGxheWVyczogUGxheWVycykgPT4ge1xuICBsZXQgcmFua2luZzogUmFua2luZ0RhdGEgPSB7fTtcbiAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgocXVpelEpID0+IHtcbiAgICBjb25zdCBxdWl6UU4gPSBwYXJzZUludChxdWl6USwgMTApO1xuICAgIE9iamVjdC5rZXlzKGRhdGFbcXVpelFOXSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKHJhbmtpbmdbaXRlbV0pIHtcbiAgICAgICAgcmFua2luZ1tpdGVtXS5zY29yZSA9XG4gICAgICAgICAgcmFua2luZ1tpdGVtXS5zY29yZSArIGRhdGFbcXVpelFOXVtpdGVtXS5hbnN3ZXJTY29yZTtcbiAgICAgICAgcmFua2luZ1tpdGVtXS5yb3VuZFRpbWUgPSBkYXRhW3F1aXpRTl1baXRlbV0uYW5zd2VyRWxhcHNlZDtcbiAgICAgICAgcmFua2luZ1tpdGVtXS5hbnN3ZXJlZFF1ZXN0aW9ucyA9IHJhbmtpbmdbaXRlbV0uYW5zd2VyZWRRdWVzdGlvbnMgKyAxO1xuICAgICAgICByYW5raW5nW2l0ZW1dLnRpbWVBdmcgPVxuICAgICAgICAgIHJhbmtpbmdbaXRlbV0udGltZUF2ZyArIGRhdGFbcXVpelFOXVtpdGVtXS5hbnN3ZXJFbGFwc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFua2luZ1tpdGVtXSA9IHtcbiAgICAgICAgICBuYW1lOiBwbGF5ZXJzW2l0ZW1dLm5hbWUsXG4gICAgICAgICAgc2NvcmU6IGRhdGFbcXVpelFOXVtpdGVtXS5hbnN3ZXJTY29yZSxcbiAgICAgICAgICByb3VuZFRpbWU6IGRhdGFbcXVpelFOXVtpdGVtXS5hbnN3ZXJFbGFwc2VkLFxuICAgICAgICAgIHRpbWVBdmc6IGRhdGFbcXVpelFOXVtpdGVtXS5hbnN3ZXJFbGFwc2VkLFxuICAgICAgICAgIGFuc3dlcmVkUXVlc3Rpb25zOiAxLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCByYW5raW5nQXJyYXkgPSBPYmplY3Qua2V5cyhyYW5raW5nKS5tYXAoKHJhbmtpbmdJdGVtKSA9PiB7XG4gICAgcmFua2luZ1tyYW5raW5nSXRlbV0udGltZUF2ZyA9XG4gICAgICByYW5raW5nW3JhbmtpbmdJdGVtXS50aW1lQXZnIC8gcmFua2luZ1tyYW5raW5nSXRlbV0uYW5zd2VyZWRRdWVzdGlvbnM7XG4gICAgcmV0dXJuIHJhbmtpbmdbcmFua2luZ0l0ZW1dO1xuICB9KTtcblxuICByZXR1cm4gXy5zb3J0QnkocmFua2luZ0FycmF5LCAoZWwpID0+IGVsLnNjb3JlKVxuICAgIC5yZXZlcnNlKClcbiAgICAuc2xpY2UoMCwgMTUpO1xufTtcblxuY29uc3QgZW1pdFJhbmtpbmcgPSAoZ2FtZVN0YXRlOiBTb2NrZXREYXRhLCBpbzogSUlPKSA9PiB7XG4gIGNvbnN0IHJhbmtpbmcgPSBnZXRDdXJyZW50UmFua2luZyhnYW1lU3RhdGUucXVpekFuc3dlcnMsIGdhbWVTdGF0ZS5wbGF5ZXJzKTtcblxuICBpby5mZXRjaFNvY2tldHMoKS50aGVuKChzb2NrZXRzKSA9PiB7XG4gICAgY29uc3QgbGl2ZVNvY2tldHMgPSBzb2NrZXRzLmZpbHRlcigoc29ja2V0KSA9PiB7XG4gICAgICByZXR1cm4gc29ja2V0LmRhdGEubGl2ZUluc3RhbmNlO1xuICAgIH0pO1xuXG4gICAgbGl2ZVNvY2tldHMuZm9yRWFjaCgoc29ja2V0KSA9PiB7XG4gICAgICBzb2NrZXQuZW1pdChcImRhdGEtcmFua2luZ1wiLCByYW5raW5nKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5jb25zdCBnZXRJbnRlcm5hbElQID0gKCkgPT4ge1xuICBjb25zdCBhZGRyZXNzID0gXyhuZXR3b3JrSW50ZXJmYWNlcygpKVxuICAgIC52YWx1ZXMoKVxuICAgIC5tYXAoKGEpID0+IF8uZmluZChhLCB7IGZhbWlseTogXCJJUHY0XCIgfSkpXG4gICAgLmNvbXBhY3QoKVxuICAgIC5tYXAoXCJhZGRyZXNzXCIpXG4gICAgLnZhbHVlKClcbiAgICAuZmluZCgoaXApID0+IGlwICE9PSBcIjEyNy4wLjAuMVwiKTtcbiAgcmV0dXJuIGFkZHJlc3MgfHwgXCJcIjtcbn07XG5cbmV4cG9ydCBjb25zdCBldmVudHM6IEV2ZW50RGF0YSA9IHtcbiAgXCJpbml0LWxpdmVcIjogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnLCB1cGRhdGVEYXRhLCBjYkZuKSA9PiB7XG4gICAgc29ja2V0LmRhdGEgPSB7IGxpdmVJbnN0YW5jZTogdHJ1ZSB9O1xuICAgIHNvY2tldC5lbWl0KFwiZ2FtZS1kYXRhXCIsIGdhbWVTdGF0ZS5nYW1lRGF0YSk7XG4gICAgY29uc3QgaXAgPSBnZXRJbnRlcm5hbElQKCk7XG4gICAgY2JGbiEoaXApO1xuICB9LFxuICBcImVuZC1nYW1lXCI6IChpbywgc29ja2V0LCBnYW1lU3RhdGUsIG1zZywgdXBkYXRlRGF0YSkgPT4ge1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YSA9IHsgLi4uaW5pdGlhbEdhbWVEYXRhIH07XG4gICAgT2JqZWN0LmtleXMoZ2FtZVN0YXRlLnBsYXllcnMpLmZvckVhY2goKHBLZXkpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJQbGF5ZXIgPSBnYW1lU3RhdGUucGxheWVyc1twS2V5XTtcbiAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW3BLZXldID0ge1xuICAgICAgICAuLi5jdXJyUGxheWVyLFxuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBzY29yZTogMCxcbiAgICAgICAgaXNJblJvb206IGZhbHNlLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICBnYW1lU3RhdGUucGxheWVycyA9IF8ucGlja0J5KGdhbWVTdGF0ZS5wbGF5ZXJzLCAocCkgPT4ge1xuICAgICAgcmV0dXJuIHAuaXNPbmxpbmUgJiYgcC5pc0luUm9vbTtcbiAgICB9KTtcbiAgICBnYW1lU3RhdGUuY291bnRlciA9IE5PVF9DT1VOVElORztcbiAgICBnYW1lU3RhdGUucXVpekFuc3dlcnMgPSB7fTtcbiAgICB1cGRhdGVEYXRhKGdhbWVTdGF0ZSk7XG4gICAgZW1pdERhdGEoZ2FtZVN0YXRlLCBpbyk7XG4gIH0sXG4gIFwic3RhcnQtZ2FtZVwiOiAoaW8sIHNvY2tldCwgZ2FtZVN0YXRlLCBtc2csIHVwZGF0ZURhdGEpID0+IHtcbiAgICBnYW1lU3RhdGUuZ2FtZURhdGEucXVpekZpbGVJbmRleCA9IG1zZyBhcyBudW1iZXI7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6U3RhcnRlZCA9IGZhbHNlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5zdGFydGVkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5waW4gPSBfLnJhbmdlKDAsIDYpXG4gICAgICAubWFwKCgpID0+IF8ucmFuZG9tKDAsIDkpKVxuICAgICAgLmpvaW4oXCJcIik7XG4gICAgZ2FtZVN0YXRlLmNvdW50ZXIgPSBOT1RfQ09VTlRJTkc7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLm9uU3RhZ2VSZWZ1c2VkTGlzdCA9IFtdO1xuICAgIHVwZGF0ZURhdGEoZ2FtZVN0YXRlKTtcbiAgICBlbWl0RGF0YShnYW1lU3RhdGUsIGlvKTtcbiAgfSxcbiAgXCJzdGFydC1xdWl6XCI6IChpbywgc29ja2V0LCBnYW1lU3RhdGUsIG1zZywgdXBkYXRlRGF0YSkgPT4ge1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5yZXN1bHRTdGVwID0gLTE7XG4gICAgZ2FtZVN0YXRlLmNvdW50ZXIgPSAzO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyID0gZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpOdW1iZXIgKyAxO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6U3RhcnRlZCA9IHRydWU7XG4gICAgZ2FtZVN0YXRlLnF1aXpBbnN3ZXJzW2dhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyXSA9IHt9O1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS50b3RhbFF1ZXN0aW9ucyA9XG4gICAgICBxdWl6RmlsZXNbZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpGaWxlSW5kZXhdLnF1ZXN0aW9ucy5sZW5ndGg7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLmV4dHJhRXZlbnRBbnN3ZXJlZCA9IG51bGw7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLmV4dHJhRXZlbnRTdGFydGVkID0gZmFsc2U7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLm9uU3RhZ2VOYW1lID0gbnVsbDtcbiAgICBnYW1lU3RhdGUuZ2FtZURhdGEuYWxsQW5zd2VyZWQgPSBmYWxzZTtcblxuICAgIGVtaXREYXRhKGdhbWVTdGF0ZSwgaW8pO1xuICAgIGlvLmVtaXQoXCJxdWl6LWNvdW50ZXJcIiwgR0FNRV9TVEFSVElORyk7XG5cbiAgICBpZiAoY291bnRlckludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKGNvdW50ZXJJbnRlcnZhbCk7XG4gICAgfVxuICAgIGNvdW50ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlvLmVtaXQoXCJxdWl6LWNvdW50ZXJcIiwgZ2FtZVN0YXRlLmNvdW50ZXIpO1xuICAgICAgaWYgKGdhbWVTdGF0ZS5jb3VudGVyID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHF1aXpJdGVtID1cbiAgICAgICAgICBxdWl6RmlsZXNbZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpGaWxlSW5kZXhdLnF1ZXN0aW9uc1tcbiAgICAgICAgICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyXG4gICAgICAgICAgXTtcbiAgICAgICAgZ2FtZVN0YXRlLnF1aXpEYXRhID0ge1xuICAgICAgICAgIHE6IHF1aXpJdGVtLnF1ZXN0aW9uLFxuICAgICAgICAgIHZpZGVvOiBxdWl6SXRlbS52aWRlbyxcbiAgICAgICAgICBxdmlkZW86IHF1aXpJdGVtLnF2aWRlbyxcbiAgICAgICAgICBzdGFydFBpdGNoOiBxdWl6SXRlbS5zdGFydFBpdGNoLFxuICAgICAgICAgIHBpdGNoUGVyY2VudFJlbGVhc2U6IHF1aXpJdGVtLnBpdGNoUGVyY2VudFJlbGVhc2UsXG4gICAgICAgICAgbHlyaWNzOiBxdWl6SXRlbS5seXJpY3MsXG4gICAgICAgICAgcWJsdXI6IHF1aXpJdGVtLnFibHVyLFxuICAgICAgICAgIGJsdXJJbWc6IHF1aXpJdGVtLmJsdXJJbWcsXG4gICAgICAgICAga2V5Ym9hcmQ6IHF1aXpJdGVtLmtleWJvYXJkLFxuICAgICAgICAgIGFuc3dlcnM6XG4gICAgICAgICAgICBxdWl6SXRlbS5rZXlib2FyZCA9PT0gXCJUUlVFRkFMU0VcIiA/IFtcIlZcIiwgXCJGXCJdIDogcXVpekl0ZW0ub3B0aW9ucyEsXG4gICAgICAgIH07XG4gICAgICAgIGlvLmVtaXQoXCJxdWl6LWRhdGFcIiwgZ2FtZVN0YXRlLnF1aXpEYXRhKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGVySW50ZXJ2YWwpO1xuICAgICAgICBnYW1lU3RhdGUuZ2FtZURhdGEuc3RhcnRlZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2FtZVN0YXRlLmNvdW50ZXItLTtcbiAgICAgICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9LFxuICBcImpvaW4tZ2FtZVwiOiAoaW8sIHNvY2tldCwgZ2FtZVN0YXRlLCBtc2csIHVwZGF0ZURhdGEsIGNiRm4pID0+IHtcbiAgICBjb25zdCBhZGRyID0gc29ja2V0LmhhbmRzaGFrZS5hZGRyZXNzO1xuICAgIGlmIChtc2cucGluID09PSBnYW1lU3RhdGUuZ2FtZURhdGEucGluICYmIGdhbWVTdGF0ZS5nYW1lRGF0YS5zdGFydGVkKSB7XG4gICAgICBnYW1lU3RhdGUucGxheWVyc1thZGRyXS5pZCA9IHNvY2tldC5pZDtcbiAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdLmlzT25saW5lID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHRha2VuTmFtZXMgPSBPYmplY3Qua2V5cyhnYW1lU3RhdGUucGxheWVycylcbiAgICAgICAgLm1hcCgocEtleSkgPT4ge1xuICAgICAgICAgIHJldHVybiBnYW1lU3RhdGUucGxheWVyc1twS2V5XS5uYW1lO1xuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKChuYW1lKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5hbWUgIT09IFwiXCI7XG4gICAgICAgIH0pO1xuXG4gICAgICBpZiAoIXRha2VuTmFtZXMuaW5jbHVkZXMobXNnLm5hbWUpKSB7XG4gICAgICAgIGlmIChCV0ZpbHRlci5pc1Byb2ZhbmUobXNnLm5hbWUpKSB7XG4gICAgICAgICAgY2JGbiEoeyBlcnJvcjogXCJJU19QUk9GQU5FXCIgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2FtZVN0YXRlLnBsYXllcnNbYWRkcl0ubmFtZSA9IG1zZy5uYW1lO1xuICAgICAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdLmlzSW5Sb29tID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2JGbiEoeyBlcnJvcjogXCJBTFJFQURZX1RBS0VOXCIgfSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEYXRhKGdhbWVTdGF0ZSk7XG4gICAgICBlbWl0RGF0YShnYW1lU3RhdGUsIGlvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2JGbiEoeyBlcnJvcjogXCJXUk9OR19QSU5cIiB9KTtcbiAgICB9XG4gIH0sXG4gIGRpc2Nvbm5lY3Q6IChpbywgc29ja2V0LCBnYW1lU3RhdGUsIG1zZywgdXBkYXRlRGF0YSkgPT4ge1xuICAgIGNvbnN0IGFkZHIgPSBzb2NrZXQuaGFuZHNoYWtlLmFkZHJlc3M7XG4gICAgaWYgKCFzb2NrZXQuZGF0YS5saXZlSW5zdGFuY2UpIHtcbiAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdLmlzT25saW5lID0gZmFsc2U7XG4gICAgICB1cGRhdGVEYXRhKGdhbWVTdGF0ZSk7XG4gICAgICBlbWl0RGF0YShnYW1lU3RhdGUsIGlvKTtcbiAgICB9XG4gIH0sXG4gIFwiYW5zd2VyLXF1ZXN0aW9uXCI6IChpbywgc29ja2V0LCBnYW1lU3RhdGUsIGFuc3dlckluZGV4LCB1cGRhdGVEYXRhKSA9PiB7XG4gICAgY29uc3QgYWRkciA9IHNvY2tldC5oYW5kc2hha2UuYWRkcmVzcztcbiAgICBjb25zdCBhbnN3ZXJTY29yZSA9IGdldEFuc3dlclNjb3JlKGdhbWVTdGF0ZSwgYW5zd2VySW5kZXgpO1xuICAgIGNvbnN0IGlzVHJ1ZUZhbHNlID0gZ2FtZVN0YXRlLnF1aXpEYXRhLmtleWJvYXJkID09PSBcIlRSVUVGQUxTRVwiO1xuICAgIGNvbnN0IGFuc3dlclJlc3VsdCA9IHtcbiAgICAgIGFuc3dlckluZGV4OiBpc1RydWVGYWxzZVxuICAgICAgICA/IGFuc3dlckluZGV4ID09PSAwXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBmYWxzZVxuICAgICAgICA6IGFuc3dlckluZGV4LFxuICAgICAgYW5zd2VyVGltZTogbmV3IERhdGUoKSxcbiAgICAgIGFuc3dlclNjb3JlLFxuICAgICAgYW5zd2VyRWxhcHNlZDogbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBnYW1lU3RhdGUuZ2FtZURhdGEuc3RhcnRlZFRpbWUsXG4gICAgfTtcblxuICAgIGlmICghZ2FtZVN0YXRlLnF1aXpBbnN3ZXJzW2dhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyXSkge1xuICAgICAgZ2FtZVN0YXRlLnF1aXpBbnN3ZXJzW2dhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyXSA9IHt9O1xuICAgIH1cblxuICAgIGdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1tnYW1lU3RhdGUuZ2FtZURhdGEucXVpek51bWJlcl1bYWRkcl0gPSBhbnN3ZXJSZXN1bHQ7XG5cbiAgICAvLyBjaGVjayBpZiBxdWl6QW5zd2Vyc1txdWl6TnVtYmVyXSBsZW5ndGggaXMgdGhlIHNhbWUgYXMgdG90YWwgaXNPbmxpbmUgcGxheWVyc1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5hbGxBbnN3ZXJlZCA9XG4gICAgICBPYmplY3Qua2V5cyhnYW1lU3RhdGUucXVpekFuc3dlcnNbZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpOdW1iZXJdKVxuICAgICAgICAubGVuZ3RoID09PVxuICAgICAgT2JqZWN0LmtleXMoZ2FtZVN0YXRlLnBsYXllcnMpLmZpbHRlcigocEtleSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW3BLZXldLmlzT25saW5lICYmIGdhbWVTdGF0ZS5wbGF5ZXJzW3BLZXldLmlzSW5Sb29tXG4gICAgICAgICk7XG4gICAgICB9KS5sZW5ndGg7XG5cbiAgICB1cGRhdGVEYXRhKGdhbWVTdGF0ZSk7XG4gICAgZW1pdERhdGEoZ2FtZVN0YXRlLCBpbyk7XG4gIH0sXG4gIFwiZW5kLXF1aXpcIjogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnLCB1cGRhdGVEYXRhKSA9PiB7XG4gICAgZ2FtZVN0YXRlLmNvdW50ZXIgPSBTSE9XX1JFU1VMVFM7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLnJlc3VsdFN0ZXAgPSAwO1xuICAgIGNvbnN0IHF1aXpOdW1iZXIgPSBnYW1lU3RhdGUuZ2FtZURhdGEucXVpek51bWJlcjtcbiAgICBjb25zdCBxdWl6UXVlc3Rpb24gPVxuICAgICAgcXVpekZpbGVzW2dhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6RmlsZUluZGV4XS5xdWVzdGlvbnNbcXVpek51bWJlcl07XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpFbmRlZCA9XG4gICAgICBxdWl6TnVtYmVyICsgMSA9PT1cbiAgICAgIHF1aXpGaWxlc1tnYW1lU3RhdGUuZ2FtZURhdGEucXVpekZpbGVJbmRleF0ucXVlc3Rpb25zLmxlbmd0aDtcblxuICAgIGxldCBvcHRpb25zO1xuICAgIHN3aXRjaCAocXVpelF1ZXN0aW9uLmtleWJvYXJkKSB7XG4gICAgICBjYXNlIFwiQUJDRFwiOlxuICAgICAgICBvcHRpb25zID0gcXVpelF1ZXN0aW9uLm9wdGlvbnM/Lm1hcCgocSwgaSkgPT4gaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlRSVUVGQUxTRVwiOlxuICAgICAgICBvcHRpb25zID0gW3RydWUsIGZhbHNlXTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHRzQnlBbnN3ZXI6IFF1aXpSZXN1bHRBbnN3ZXJbXSA9IG9wdGlvbnMhLm1hcCgocSwgaSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW5zd2VyQ29kZTogXy5pc0Jvb2xlYW4ocSlcbiAgICAgICAgICA/IFtcIlZcIiwgXCJGXCJdW2ldXG4gICAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgaSksXG4gICAgICAgIHBlb3BsZTogT2JqZWN0LmtleXMoXG4gICAgICAgICAgXy5waWNrQnkoZ2FtZVN0YXRlLnF1aXpBbnN3ZXJzW3F1aXpOdW1iZXJdLCAoYWRkcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFkZHIuYW5zd2VySW5kZXggPT09IHE7XG4gICAgICAgICAgfSlcbiAgICAgICAgKS5sZW5ndGgsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgZ2FtZVN0YXRlLnF1aXpSZXN1bHQgPSB7XG4gICAgICB0aXRsZTogcXVpekZpbGVzW2dhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6RmlsZUluZGV4XS50aXRsZSxcbiAgICAgIGNvcnJlY3RBbnN3ZXI6IHF1aXpRdWVzdGlvbi5hbnN3ZXIsXG4gICAgICBhbnN3ZXJzOiByZXN1bHRzQnlBbnN3ZXIsXG4gICAgfTtcblxuICAgIHVwZGF0ZURhdGEoZ2FtZVN0YXRlKTtcbiAgICBlbWl0RGF0YShnYW1lU3RhdGUsIGlvKTtcbiAgfSxcbiAgXCJuZXh0LXJlc3VsdHN0ZXBcIjogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnLCB1cGRhdGVEYXRhKSA9PiB7XG4gICAgY29uc3QgcmVzU3RlcCA9IGdhbWVTdGF0ZS5nYW1lRGF0YS5yZXN1bHRTdGVwO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5leHRyYUV2ZW50U3RhcnRlZCA9IGZhbHNlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5leHRyYUV2ZW50QW5zd2VyZWQgPSBudWxsO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5vblN0YWdlTmFtZSA9IG51bGw7XG4gICAgaWYgKHJlc1N0ZXAgPT09IDMpIHtcbiAgICAgIGV2ZW50c1tcImVuZC1nYW1lXCJdKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnLCB1cGRhdGVEYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHJlc1N0ZXAgPCAyIHx8IChyZXNTdGVwID09PSAyICYmIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6RW5kZWQpKSB7XG4gICAgICBnYW1lU3RhdGUuZ2FtZURhdGEucmVzdWx0U3RlcCA9IHJlc1N0ZXAgKyAxO1xuICAgICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgICAgZW1pdERhdGEoZ2FtZVN0YXRlLCBpbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50c1tcInN0YXJ0LXF1aXpcIl0oaW8sIHNvY2tldCwgZ2FtZVN0YXRlLCBtc2csIHVwZGF0ZURhdGEpO1xuICAgIH1cbiAgfSxcbiAgXCJzdGFydC1leHRyYWV2ZW50XCI6IChpbywgc29ja2V0LCBnYW1lU3RhdGUsIG1zZywgdXBkYXRlRGF0YSkgPT4ge1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5leHRyYUV2ZW50U3RhcnRlZCA9IHRydWU7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5leHRyYUV2ZW50VHlwZSA9IG1zZy50eXBlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5vblN0YWdlTmFtZSA9IG51bGw7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLmV4dHJhRXZlbnRBbnN3ZXJlZCA9IG51bGw7XG4gICAgaWYgKGdhbWVTdGF0ZS5nYW1lRGF0YS5leHRyYUV2ZW50VHlwZSA9PT0gXCJPTl9TVEFHRVwiKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gZ2V0IHJhbmRvbSBwbGF5ZXIgZnJvbSBnYW1lU3RhdGUucGxheWVycyB3aG8gaXNJblJvb20gYW5kIGlzIG5vdCBpbiBvblN0YWdlUmVmdXNlZExpc3RcbiAgICAgICAgY29uc3Qgb25TdGFnZVJlZnVzZWRMaXN0ID0gZ2FtZVN0YXRlLmdhbWVEYXRhLm9uU3RhZ2VSZWZ1c2VkTGlzdDtcbiAgICAgICAgY29uc3QgcmFuZG9tUGxheWVyID0gXy5zYW1wbGUoXG4gICAgICAgICAgXy5waWNrQnkoZ2FtZVN0YXRlLnBsYXllcnMsIChwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcC5pc0luUm9vbSAmJiAhb25TdGFnZVJlZnVzZWRMaXN0LmluY2x1ZGVzKHAuaWQpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gY29uc3QgcmFuZG9tUGxheWVyID0gXy5zYW1wbGUoT2JqZWN0LnZhbHVlcyhnYW1lU3RhdGUucGxheWVycykpO1xuICAgICAgICBpZiAocmFuZG9tUGxheWVyKSB7XG4gICAgICAgICAgZ2FtZVN0YXRlLmdhbWVEYXRhLm9uU3RhZ2VOYW1lID0gcmFuZG9tUGxheWVyLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgICAgICBlbWl0RGF0YShnYW1lU3RhdGUsIGlvKTtcbiAgICAgIH0sIDUwMDApO1xuICAgIH1cbiAgICB1cGRhdGVEYXRhKGdhbWVTdGF0ZSk7XG4gICAgZW1pdERhdGEoZ2FtZVN0YXRlLCBpbyk7XG4gIH0sXG4gIFwiYW5zd2VyLWV4dHJhZXZlbnRcIjogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnLCB1cGRhdGVEYXRhKSA9PiB7XG4gICAgY29uc3QgYWRkciA9IHNvY2tldC5oYW5kc2hha2UuYWRkcmVzcztcbiAgICBjb25zdCBwbGF5ZXIgPSBnYW1lU3RhdGUucGxheWVyc1thZGRyXTtcblxuICAgIGlmIChcbiAgICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5leHRyYUV2ZW50U3RhcnRlZCAmJlxuICAgICAgcGxheWVyLm5hbWUgPT09IGdhbWVTdGF0ZS5nYW1lRGF0YS5vblN0YWdlTmFtZVxuICAgICkge1xuICAgICAgZ2FtZVN0YXRlLmdhbWVEYXRhLmV4dHJhRXZlbnRBbnN3ZXJlZCA9IG1zZztcbiAgICAgIGlmICghbXNnKSB7XG4gICAgICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5vblN0YWdlUmVmdXNlZExpc3QgPSBbXG4gICAgICAgICAgLi4uZ2FtZVN0YXRlLmdhbWVEYXRhLm9uU3RhZ2VSZWZ1c2VkTGlzdCxcbiAgICAgICAgICBwbGF5ZXIuaWQsXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gcmVzZXQgbGlzdCBpZiBhbGwgcGxheWVycyByZWZ1c2VkXG4gICAgICAgIGlmIChcbiAgICAgICAgICBnYW1lU3RhdGUuZ2FtZURhdGEub25TdGFnZVJlZnVzZWRMaXN0Lmxlbmd0aCA9PT1cbiAgICAgICAgICBPYmplY3Qua2V5cyhnYW1lU3RhdGUucGxheWVycykubGVuZ3RoXG4gICAgICAgICkge1xuICAgICAgICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5vblN0YWdlUmVmdXNlZExpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgICAgZW1pdERhdGEoZ2FtZVN0YXRlLCBpbyk7XG4gICAgfVxuICB9LFxufTtcbiJdLCJuYW1lcyI6WyJfIiwiaW5pdGlhbEdhbWVEYXRhIiwibmV0d29ya0ludGVyZmFjZXMiLCJHQU1FX1NUQVJUSU5HIiwiTk9UX0NPVU5USU5HIiwiU0hPV19SRVNVTFRTIiwiQmFkV29yZHMiLCJjb3VudGVySW50ZXJ2YWwiLCJmcyIsInJlcXVpcmUiLCJxdWl6RmlsZXMiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJlbmRzV2l0aCIsIm1hcCIsInFJdGVtIiwicXVlc3Rpb25zIiwicXVlc3Rpb24iLCJseXJpY3MiLCJyZWFkRmlsZVN5bmMiLCJ0b1N0cmluZyIsImdldE9ubGluZVBsYXllcnMiLCJwbGF5ZXJzIiwicGlja0J5IiwidXNlciIsImlzT25saW5lIiwiaXNJblJvb20iLCJCV0ZpbHRlciIsImdldEFuc3dlclNjb3JlIiwiZ2FtZVN0YXRlIiwiYW5zd2VySW5kZXgiLCJxTnVtYmVyIiwiZ2FtZURhdGEiLCJxdWl6TnVtYmVyIiwiY29ycmVjdEFuc3dlciIsInF1aXpGaWxlSW5kZXgiLCJhbnN3ZXIiLCJpc1RydWVGYWxzZSIsInF1aXpEYXRhIiwia2V5Ym9hcmQiLCJpc0NvcnJlY3QiLCJzY29yZSIsImFkZHJLZXlzIiwiT2JqZWN0Iiwia2V5cyIsInF1aXpBbnN3ZXJzIiwibGVuZ3RoIiwibm9Db3JyZWN0QW5zd2VycyIsImV2ZXJ5IiwiYWRkciIsImFuc3dlckl0ZW0iLCJjb25uZWN0UGxheWVyIiwiaW8iLCJzb2NrZXQiLCJ1cGRhdGVEYXRhIiwiaGFuZHNoYWtlIiwiYWRkcmVzcyIsImlkIiwibmFtZSIsImVtaXREYXRhIiwicXVpekxpc3QiLCJxdWl6IiwidGl0bGUiLCJlbWl0IiwiY291bnRlciIsInF1aXpSZXN1bHQiLCJlbWl0UmFua2luZyIsImZldGNoU29ja2V0cyIsInRoZW4iLCJzb2NrZXRzIiwiZm9yRWFjaCIsInNvY2tldEl0ZW0iLCJjbGllbnRRdWl6QW5zd2VyIiwiYW5zd2VyVGltZSIsIkRhdGUiLCJhbnN3ZXJTY29yZSIsImFuc3dlckVsYXBzZWQiLCJnZXRUaW1lIiwiZ2V0Q3VycmVudFJhbmtpbmciLCJkYXRhIiwicmFua2luZyIsInF1aXpRIiwicXVpelFOIiwicGFyc2VJbnQiLCJpdGVtIiwicm91bmRUaW1lIiwiYW5zd2VyZWRRdWVzdGlvbnMiLCJ0aW1lQXZnIiwicmFua2luZ0FycmF5IiwicmFua2luZ0l0ZW0iLCJzb3J0QnkiLCJlbCIsInJldmVyc2UiLCJzbGljZSIsImxpdmVTb2NrZXRzIiwibGl2ZUluc3RhbmNlIiwiZ2V0SW50ZXJuYWxJUCIsInZhbHVlcyIsImEiLCJmaW5kIiwiZmFtaWx5IiwiY29tcGFjdCIsInZhbHVlIiwiaXAiLCJldmVudHMiLCJtc2ciLCJjYkZuIiwicEtleSIsImN1cnJQbGF5ZXIiLCJwIiwic3RhcnRlZCIsInF1aXpTdGFydGVkIiwic3RhcnRlZFRpbWUiLCJwaW4iLCJyYW5nZSIsInJhbmRvbSIsImpvaW4iLCJvblN0YWdlUmVmdXNlZExpc3QiLCJyZXN1bHRTdGVwIiwidG90YWxRdWVzdGlvbnMiLCJleHRyYUV2ZW50QW5zd2VyZWQiLCJleHRyYUV2ZW50U3RhcnRlZCIsIm9uU3RhZ2VOYW1lIiwiYWxsQW5zd2VyZWQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJxdWl6SXRlbSIsInEiLCJ2aWRlbyIsInF2aWRlbyIsInN0YXJ0UGl0Y2giLCJwaXRjaFBlcmNlbnRSZWxlYXNlIiwicWJsdXIiLCJibHVySW1nIiwiYW5zd2VycyIsIm9wdGlvbnMiLCJ0YWtlbk5hbWVzIiwiaW5jbHVkZXMiLCJpc1Byb2ZhbmUiLCJlcnJvciIsImRpc2Nvbm5lY3QiLCJhbnN3ZXJSZXN1bHQiLCJxdWl6UXVlc3Rpb24iLCJxdWl6RW5kZWQiLCJpIiwicmVzdWx0c0J5QW5zd2VyIiwiYW5zd2VyQ29kZSIsImlzQm9vbGVhbiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBlb3BsZSIsInJlc1N0ZXAiLCJleHRyYUV2ZW50VHlwZSIsInR5cGUiLCJzZXRUaW1lb3V0IiwicmFuZG9tUGxheWVyIiwic2FtcGxlIiwicGxheWVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server_src/socket/events.ts\n");

/***/ }),

/***/ "(api)/./src/utils/const.ts":
/*!****************************!*\
  !*** ./src/utils/const.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GAME_STARTING\": () => (/* binding */ GAME_STARTING),\n/* harmony export */   \"NOT_COUNTING\": () => (/* binding */ NOT_COUNTING),\n/* harmony export */   \"SHOW_RESULTS\": () => (/* binding */ SHOW_RESULTS),\n/* harmony export */   \"buttonColors\": () => (/* binding */ buttonColors)\n/* harmony export */ });\nconst SHOW_RESULTS = -3;\nconst GAME_STARTING = -2;\nconst NOT_COUNTING = -1;\nconst buttonColors = [\n    \"#00501F\",\n    \"#6D172D\",\n    \"#103569\",\n    \"#26262D\"\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvY29uc3QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztBQUN4QixNQUFNQyxhQUFhLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekIsTUFBTUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLE1BQU1DLFlBQVksR0FBRztJQUFDLFNBQVM7SUFBRSxTQUFTO0lBQUUsU0FBUztJQUFFLFNBQVM7Q0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVhdC10aGUtbXVzaWMvLi9zcmMvdXRpbHMvY29uc3QudHM/N2MwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU0hPV19SRVNVTFRTID0gLTM7XG5leHBvcnQgY29uc3QgR0FNRV9TVEFSVElORyA9IC0yO1xuZXhwb3J0IGNvbnN0IE5PVF9DT1VOVElORyA9IC0xO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkNvbG9ycyA9IFtcIiMwMDUwMUZcIiwgXCIjNkQxNzJEXCIsIFwiIzEwMzU2OVwiLCBcIiMyNjI2MkRcIl07XG4iXSwibmFtZXMiOlsiU0hPV19SRVNVTFRTIiwiR0FNRV9TVEFSVElORyIsIk5PVF9DT1VOVElORyIsImJ1dHRvbkNvbG9ycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/utils/const.ts\n");

/***/ }),

/***/ "./server_src/quiz/q000.json":
/*!***********************************!*\
  !*** ./server_src/quiz/q000.json ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"active":true,"title":"quiz_000","questions":[{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":1,"options":["Fire","Dynamite","Butter","Fake Love"],"video":"background.mp4","qvideo":"question_000.mp4","qblur":true},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":2,"options":["Face","Place","Name","Friends"],"video":"background.mp4","qvideo":"question_001.mp4","lyrics":"question_001.txt","qblur":true},{"active":true,"question":"Who is this celebrity?","keyboard":"ABCD","answer":2,"options":["Jack Harlow","Khalid","Post Malone","The Kid LAROI"],"video":"trivia.mp4","blurImg":"question_002.webp"},{"active":true,"question":"In what year did Olivia Rodrigo release Drivers License?","keyboard":"ABCD","answer":3,"options":["2018","2019","2020","2021"],"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":1,"options":["Bad Guy","Therefore I Am","Not Your Friend","The Man"],"video":"background.mp4","startPitch":20,"pitchPercentRelease":60,"qvideo":"question_004.mp4","qblur":true},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":0,"options":["An Angel","A Diva","A Dream","A Model"],"video":"background.mp4","qvideo":"question_005.mp4","lyrics":"question_005.txt","qblur":true},{"active":true,"question":"What is the Fandom of this Boyband called?","keyboard":"ABCD","answer":0,"options":["ARMY","BTSers","BABY","BLINK"],"video":"trivia.mp4","blurImg":"question_006.jpeg"},{"active":true,"question":"Taylor Swift and Ariana Grande are the same age.","keyboard":"TRUEFALSE","answer":false,"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":3,"options":["Adore You","Watercolour Eyes","Golden","Watermelon Sugar"],"video":"background.mp4","qvideo":"question_008.mp4","qblur":true},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":1,"options":["Love","Touch","Kiss","Smile"],"video":"background.mp4","qvideo":"question_009.mp4","lyrics":"question_009.txt","qblur":true},{"active":true,"question":"Who is this celebrity?","keyboard":"ABCD","answer":0,"options":["Selena Gomez","Camila Cabello","Melanie Martinez","Demi Lovato"],"video":"trivia.mp4","blurImg":"question_010.jpeg"},{"active":true,"question":"Which song is not from a Disney Movie?","keyboard":"ABCD","answer":1,"options":["How Far I’ll Go","Can’t Stop the Feeling!","We Don’t Talk About Bruno","In Summer"],"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":3,"options":["Let Her Go","Tragic","Wrong","Stay"],"video":"background.mp4","startPitch":-20,"pitchPercentRelease":60,"qvideo":"question_012.mp4","qblur":true},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":2,"options":["Renovating","Relegating","Renegading","Liberating"],"video":"background.mp4","qvideo":"question_013.mp4","lyrics":"question_013.txt","qblur":true},{"active":true,"question":"What instrument does this celebrity NOT play?","keyboard":"ABCD","answer":3,"options":["Piano","Guitar","Cello","Violin"],"video":"trivia.mp4","blurImg":"question_014.jpeg"}]}');

/***/ }),

/***/ "./server_src/quiz/q001.json":
/*!***********************************!*\
  !*** ./server_src/quiz/q001.json ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"active":true,"title":"quiz_001","questions":[{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":0,"options":["Despacito","Súbeme La Radio","Con Calma","Bailando"],"video":"background.mp4","qvideo":"question_100.mp4","qblur":true},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":0,"options":["Glow","Flow","So","Show"],"video":"background.mp4","qvideo":"question_101.mp4","lyrics":"question_101.txt","qblur":true},{"active":true,"question":"What Disney Channel show boosted this celebrity’s career?","keyboard":"ABCD","answer":0,"options":["Hannah Montana","Wizards of Waverly Place","Lizzie McGuire","Good Luck Charlie"],"video":"trivia.mp4","blurImg":"question_102.jpeg"},{"active":true,"question":"Which is NOT the name of a Duo Lipa song?","keyboard":"ABCD","answer":0,"options":["Lonely","Levitating","New Rules","Break My Heart"],"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":0,"options":["Save Your Tears","Run Away","Blinding Lights","I Feel It Coming"],"video":"background.mp4","qvideo":"question_104.mp4","qblur":true,"startPitch":20,"pitchPercentRelease":60},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":1,"options":["Cheap Thrills","Dollar Bills","Cheap Frills","Dance Skills"],"video":"background.mp4","qvideo":"question_105.mp4","lyrics":"question_105.txt","qblur":true},{"active":true,"question":"On which talent show did the band meet?","keyboard":"ABCD","answer":2,"options":["Britain’s Got Talent","The Voice","The X Factor","Pop Idol"],"video":"trivia.mp4","blurImg":"question_106.jpeg"},{"active":true,"question":"Lorde and Shawn Mendes are the same age.","keyboard":"TRUEFALSE","answer":false,"video":"trivia.mp4"},{"active":true,"question":"In what year did One Direction release their first album?","keyboard":"ABCD","answer":2,"options":["2009","2010","2011","2012"],"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":1,"options":["Perfect","Drivers License","Deja Vu","Good 4 U"],"video":"background.mp4","qvideo":"question_109.mp4","qblur":true},{"active":true,"question":"What singer didn’t feature in Bang Bang?","keyboard":"ABCD","answer":2,"options":["Jessie J","Cardi B","Nicki Minaj","Ariana Grande"],"video":"trivia.mp4"},{"active":true,"question":"Camila Cabello and Zendaya are the same age.","keyboard":"TRUEFALSE","answer":false,"video":"trivia.mp4"},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":1,"options":["Generously","Dangerously","Favourably","Shamelessly"],"video":"background.mp4","qvideo":"question_112.mp4","lyrics":"question_112.txt","qblur":true},{"active":true,"question":"Who is this celebrity?","keyboard":"ABCD","answer":1,"options":["Shawn Mendes","Charlie Puth","Austin Mahone","Liam Payne"],"video":"trivia.mp4","blurImg":"question_113.webp"},{"active":true,"question":"Which artist has NOT featured in an Ed Sheeran song?","keyboard":"ABCD","answer":2,"options":["Beyonce","Travis Scott","Rihanna","Justin Bieber"],"video":"trivia.mp4"}]}');

/***/ }),

/***/ "./server_src/quiz/q002.json":
/*!***********************************!*\
  !*** ./server_src/quiz/q002.json ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"active":true,"title":"quiz_002","questions":[{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":2,"options":["Fly Away","Cheap Thrills","Dance Monkey","Eyes Don’t Lie"],"video":"background.mp4","qvideo":"question_200.mp4","qblur":true},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":0,"options":["Bathroom","Bedroom","Kitchen","Living Room"],"video":"background.mp4","qvideo":"question_201.mp4","lyrics":"question_201.txt","qblur":true},{"active":true,"question":"Guess the Celebrity","keyboard":"ABCD","answer":0,"options":["Doja Cat","Cardi B","Nicky Minaj","Megan Thee Stallion"],"video":"trivia.mp4","blurImg":"question_202.png"},{"active":true,"question":"In what year was Baby by Justin Bieber released?","keyboard":"ABCD","answer":0,"options":["2010","2011","2012","2013"],"video":"trivia.mp4"},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":1,"options":["Beautiful","Wonderful","Incredible","Terrible"],"video":"background.mp4","qvideo":"question_204.mp4","lyrics":"question_204.txt","qblur":true},{"active":true,"question":"What was her debut song?","keyboard":"ABCD","answer":2,"options":["Paparazzi","Poker Face","Just Dance","LoveGame"],"video":"trivia.mp4","blurImg":"question_205.png"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":0,"options":["Blinding Lights","Earned It","You Right","Call Out My Name"],"video":"background.mp4","qvideo":"question_206.mp4","qblur":true,"startPitch":20,"pitchPercentRelease":60},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":2,"options":["Breathing","Alright","Alive","Fine"],"video":"question_207.mp4"},{"active":true,"question":"Which song is NOT by this celebrity?","keyboard":"ABCD","answer":1,"options":["Nice for What","Antidote","Hotline Bling","Legend"],"video":"trivia.mp4","blurImg":"question_208.png"},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":3,"options":["In My Thoughts","In My Heart","In My Life","On My Mind"],"video":"question_209.mp4"},{"active":true,"question":"In what year was Reggaetón Lento by CNCO released?","keyboard":"ABCD","answer":2,"options":["2014","2015","2016","2017"],"video":"trivia.mp4"},{"active":true,"question":"Which song is by this celebrity?","keyboard":"ABCD","answer":0,"options":["Exile","25","Wild Thoughts","The One that Got Away"],"video":"trivia.mp4","blurImg":"question_211.jpg"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":3,"options":["Bad Habits","Light Switch","Shape Of You","Shivers"],"video":"question_212.mp4"},{"active":true,"question":"Which is NOT the name of a Katy Perry album?","keyboard":"ABCD","answer":3,"options":["Smile","Witness","Prism","Teary Eyes"],"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":1,"options":["Te Bote","Taki Taki","Loco Contigo","Pepas"],"video":"question_214.mp4"}]}');

/***/ }),

/***/ "./server_src/quiz/q003.json":
/*!***********************************!*\
  !*** ./server_src/quiz/q003.json ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"active":true,"title":"quiz_003","questions":[{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":3,"options":["Holiday","That’s What I Want","Sun Goes Down","Montero (Call Me By Your Name)"],"video":"question_300.mp4"},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":3,"options":["You Need To Do","You Know It’s True","You Like To Do","You Wanna Do"],"video":"background.mp4","qvideo":"question_301.mp4","lyrics":"question_301.txt","qblur":true},{"active":true,"question":"Which of her songs has the line: \\"We could have had it all!\\"","keyboard":"ABCD","answer":3,"options":["Set Fire to the Rain","Hello","Skyfall","Rolling In the Deep"],"video":"trivia.mp4","blurImg":"question_302.png"},{"active":true,"question":"Ed Sheeran and Justin Bieber are the same age.","keyboard":"TRUEFALSE","answer":false,"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":0,"options":["X","Hasta El Amanecer","Mi Gente","Échame La Culpa"],"video":"background.mp4","qvideo":"question_304.mp4","qblur":true,"startPitch":20,"pitchPercentRelease":50},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":3,"options":["April","May","July","June"],"video":"background.mp4","qvideo":"question_305.mp4","lyrics":"question_305.txt","qblur":true},{"active":true,"question":"This singer studied ballet, true or false?","keyboard":"TRUEFALSE","answer":true,"video":"trivia.mp4","blurImg":"question_306.png"},{"active":true,"question":"In what year did Lady Gaga and Bradley Cooper sing Shallow?","keyboard":"ABCD","answer":1,"options":["2017","2018","2019","2020"],"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":2,"options":["The One That Got Away","Teenage Dream","Never Really Over","Teary Eyes"],"video":"background.mp4","qvideo":"question_308.mp4","qblur":true,"startPitch":20,"pitchPercentRelease":50},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":1,"options":["For Its Simplicity","Sacred Simplicity","Normal Simplicity","Perfect Simplicity"],"video":"background.mp4","qvideo":"question_309.mp4","lyrics":"question_309.txt","qblur":true},{"active":true,"question":"Guess the Celebrity","keyboard":"ABCD","answer":2,"options":["Nicky Jam","Ozuna","Bad Bunny","J Balvin"],"video":"trivia.mp4","blurImg":"question_310.png"},{"active":true,"question":"In what year was Lizzo singing Juice?","keyboard":"ABCD","answer":3,"options":["2016","2017","2018","2019"],"video":"trivia.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":2,"options":["Stay","Ready For Love","So Done","Not Sober"],"video":"background.mp4","qvideo":"question_312.mp4","qblur":true,"startPitch":20,"pitchPercentRelease":50},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":1,"options":["Eat","Drink","Sleep","Work"],"video":"background.mp4","qvideo":"question_313.mp4","lyrics":"question_313.txt","qblur":true},{"active":true,"question":"Which nationality is this singer?","keyboard":"ABCD","answer":1,"options":["American","British","Canadian","Australian"],"video":"trivia.mp4","blurImg":"question_314.png"}]}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/socket.ts"));
module.exports = __webpack_exports__;

})();