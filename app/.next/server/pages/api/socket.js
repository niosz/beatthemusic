"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/socket";
exports.ids = ["pages/api/socket"];
exports.modules = {

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("lodash");

/***/ }),

/***/ "Socket.IO":
/*!****************************!*\
  !*** external "Socket.IO" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("Socket.IO");;

/***/ }),

/***/ "(api)/./pages/api/socket.ts":
/*!*****************************!*\
  !*** ./pages/api/socket.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var Socket_IO__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! Socket.IO */ \"Socket.IO\");\n/* harmony import */ var _server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../server_src/socket/events */ \"(api)/./server_src/socket/events.ts\");\n/* harmony import */ var _src_utils_const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/utils/const */ \"(api)/./src/utils/const.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([Socket_IO__WEBPACK_IMPORTED_MODULE_0__]);\nSocket_IO__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nlet gameData = {\n    started: false,\n    quizStarted: false,\n    quizNumber: -1,\n    totalQuestions: -1,\n    startedTime: 0,\n    pin: \"\",\n    resultStep: -1\n};\nlet players = {};\nlet counter = _src_utils_const__WEBPACK_IMPORTED_MODULE_2__.NOT_COUNTING;\nlet quizData = {\n    q: \"\",\n    video: \"\",\n    answers: []\n};\nlet quizAnswers = {};\nlet quizResult = {\n    answers: [],\n    correctAnswer: -1,\n    title: \"\"\n};\nconst dataUpdater = (socketData)=>{\n    gameData = socketData.gameData;\n    counter = socketData.counter;\n    players = socketData.players;\n    quizData = socketData.quizData;\n    quizAnswers = socketData.quizAnswers;\n    quizResult = socketData.quizResult;\n};\nconst SocketHandler = (req, res)=>{\n    if (!res.socket.server.io) {\n        const io = new Socket_IO__WEBPACK_IMPORTED_MODULE_0__.Server(res.socket.server);\n        res.socket.server.io = io;\n        io.on(\"connection\", (socket)=>{\n            (0,_server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__.connectPlayer)({\n                gameData,\n                counter,\n                players,\n                quizData,\n                quizAnswers,\n                quizResult\n            }, io, socket, dataUpdater);\n            Object.keys(_server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__.events).forEach((event)=>{\n                const eventType = event;\n                socket.on(event, (msg)=>{\n                    const eventFn = _server_src_socket_events__WEBPACK_IMPORTED_MODULE_1__.events[eventType];\n                    eventFn(io, socket, {\n                        gameData,\n                        counter,\n                        players,\n                        quizData,\n                        quizAnswers,\n                        quizResult\n                    }, msg, dataUpdater);\n                });\n            });\n        });\n    }\n    res.end();\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SocketHandler);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgU2VydmVyIH0gZnJvbSBcIlNvY2tldC5JT1wiO1xuaW1wb3J0IHtcbiAgR2FtZURhdGEsXG4gIFBsYXllcnMsXG4gIFF1aXpBbnN3ZXIsXG4gIFF1aXpSZXN1bHQsXG4gIFNvY2tldERhdGEsXG59IGZyb20gXCIuLi8uLi9zZXJ2ZXJfc3JjL2ludGVyZmFjZXNcIjtcbmltcG9ydCB7XG4gIGNvbm5lY3RQbGF5ZXIsXG4gIGV2ZW50cyxcbiAgU29ja2V0RXZlbnQsXG59IGZyb20gXCIuLi8uLi9zZXJ2ZXJfc3JjL3NvY2tldC9ldmVudHNcIjtcbmltcG9ydCB7IFF1aXpEYXRhIH0gZnJvbSBcIi4uLy4uL3NyYy9zdG9yZS9HYW1lU3RvcmVcIjtcbmltcG9ydCB7IE5PVF9DT1VOVElORyB9IGZyb20gXCIuLi8uLi9zcmMvdXRpbHMvY29uc3RcIjtcblxubGV0IGdhbWVEYXRhOiBHYW1lRGF0YSA9IHtcbiAgc3RhcnRlZDogZmFsc2UsXG4gIHF1aXpTdGFydGVkOiBmYWxzZSxcbiAgcXVpek51bWJlcjogLTEsXG4gIHRvdGFsUXVlc3Rpb25zOiAtMSxcbiAgc3RhcnRlZFRpbWU6IDAsXG4gIHBpbjogXCJcIixcbiAgcmVzdWx0U3RlcDogLTEsXG59O1xubGV0IHBsYXllcnM6IFBsYXllcnMgPSB7fTtcbmxldCBjb3VudGVyID0gTk9UX0NPVU5USU5HO1xubGV0IHF1aXpEYXRhOiBRdWl6RGF0YSA9IHsgcTogXCJcIiwgdmlkZW86IFwiXCIsIGFuc3dlcnM6IFtdIH07XG5sZXQgcXVpekFuc3dlcnM6IFF1aXpBbnN3ZXIgPSB7fTtcbmxldCBxdWl6UmVzdWx0OiBRdWl6UmVzdWx0ID0geyBhbnN3ZXJzOiBbXSwgY29ycmVjdEFuc3dlcjogLTEsIHRpdGxlOiBcIlwiIH07XG5cbmNvbnN0IGRhdGFVcGRhdGVyID0gKHNvY2tldERhdGE6IFNvY2tldERhdGEpID0+IHtcbiAgZ2FtZURhdGEgPSBzb2NrZXREYXRhLmdhbWVEYXRhO1xuICBjb3VudGVyID0gc29ja2V0RGF0YS5jb3VudGVyO1xuICBwbGF5ZXJzID0gc29ja2V0RGF0YS5wbGF5ZXJzO1xuICBxdWl6RGF0YSA9IHNvY2tldERhdGEucXVpekRhdGE7XG4gIHF1aXpBbnN3ZXJzID0gc29ja2V0RGF0YS5xdWl6QW5zd2VycztcbiAgcXVpelJlc3VsdCA9IHNvY2tldERhdGEucXVpelJlc3VsdDtcbn07XG5cbmNvbnN0IFNvY2tldEhhbmRsZXIgPSAocmVxOiBhbnksIHJlczogYW55KSA9PiB7XG4gIGlmICghcmVzLnNvY2tldC5zZXJ2ZXIuaW8pIHtcbiAgICBjb25zdCBpbyA9IG5ldyBTZXJ2ZXIocmVzLnNvY2tldC5zZXJ2ZXIpO1xuICAgIHJlcy5zb2NrZXQuc2VydmVyLmlvID0gaW87XG5cbiAgICBpby5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xuICAgICAgY29ubmVjdFBsYXllcihcbiAgICAgICAgeyBnYW1lRGF0YSwgY291bnRlciwgcGxheWVycywgcXVpekRhdGEsIHF1aXpBbnN3ZXJzLCBxdWl6UmVzdWx0IH0sXG4gICAgICAgIGlvLFxuICAgICAgICBzb2NrZXQsXG4gICAgICAgIGRhdGFVcGRhdGVyXG4gICAgICApO1xuXG4gICAgICBPYmplY3Qua2V5cyhldmVudHMpLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50IGFzIFNvY2tldEV2ZW50O1xuICAgICAgICBzb2NrZXQub24oZXZlbnQsIChtc2cpID0+IHtcbiAgICAgICAgICBjb25zdCBldmVudEZuID0gZXZlbnRzW2V2ZW50VHlwZV07XG4gICAgICAgICAgZXZlbnRGbihcbiAgICAgICAgICAgIGlvLFxuICAgICAgICAgICAgc29ja2V0LFxuICAgICAgICAgICAgeyBnYW1lRGF0YSwgY291bnRlciwgcGxheWVycywgcXVpekRhdGEsIHF1aXpBbnN3ZXJzLCBxdWl6UmVzdWx0IH0sXG4gICAgICAgICAgICBtc2csXG4gICAgICAgICAgICBkYXRhVXBkYXRlclxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmVzLmVuZCgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU29ja2V0SGFuZGxlcjtcbiJdLCJuYW1lcyI6WyJTZXJ2ZXIiLCJjb25uZWN0UGxheWVyIiwiZXZlbnRzIiwiTk9UX0NPVU5USU5HIiwiZ2FtZURhdGEiLCJzdGFydGVkIiwicXVpelN0YXJ0ZWQiLCJxdWl6TnVtYmVyIiwidG90YWxRdWVzdGlvbnMiLCJzdGFydGVkVGltZSIsInBpbiIsInJlc3VsdFN0ZXAiLCJwbGF5ZXJzIiwiY291bnRlciIsInF1aXpEYXRhIiwicSIsInZpZGVvIiwiYW5zd2VycyIsInF1aXpBbnN3ZXJzIiwicXVpelJlc3VsdCIsImNvcnJlY3RBbnN3ZXIiLCJ0aXRsZSIsImRhdGFVcGRhdGVyIiwic29ja2V0RGF0YSIsIlNvY2tldEhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzb2NrZXQiLCJzZXJ2ZXIiLCJpbyIsIm9uIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJldmVudCIsImV2ZW50VHlwZSIsIm1zZyIsImV2ZW50Rm4iLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/socket.ts\n");

/***/ }),

/***/ "(api)/./server_src/socket/events.ts":
/*!*************************************!*\
  !*** ./server_src/socket/events.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connectPlayer\": () => (/* binding */ connectPlayer),\n/* harmony export */   \"emitData\": () => (/* binding */ emitData),\n/* harmony export */   \"events\": () => (/* binding */ events),\n/* harmony export */   \"getOnlinePlayers\": () => (/* binding */ getOnlinePlayers)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_utils_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../src/utils/const */ \"(api)/./src/utils/const.ts\");\n\n\nconst getOnlinePlayers = (players)=>{\n    return lodash__WEBPACK_IMPORTED_MODULE_0___default().pickBy(players, (user)=>user.isOnline && user.isInRoom\n    );\n};\nconst getAnswerScore = (gameState, answerIndex)=>{\n    const qNumber = gameState.gameData.quizNumber;\n    const correctAnswer = quiz.questions[qNumber].answer;\n    const isCorrect = answerIndex === correctAnswer;\n    let score = 0;\n    if (isCorrect) {\n        score = 1;\n        const addrKeys = Object.keys(gameState.quizAnswers[qNumber]);\n        if (addrKeys && addrKeys.length > 0) {\n            addrKeys.forEach((addr)=>{\n                const answerItem = gameState.quizAnswers[qNumber][addr];\n                if (answerItem.answerIndex !== correctAnswer) {\n                    score = 2;\n                }\n            });\n        } else {\n            score = 2;\n        }\n    }\n    return score;\n};\nconst connectPlayer = (gameState, io, socket, updateData)=>{\n    const addr = socket.handshake.address;\n    const id = socket.id;\n    if (!gameState.players[addr]) {\n        gameState.players[addr] = {\n            name: \"\",\n            score: 0,\n            isOnline: true,\n            isInRoom: false,\n            id\n        };\n    } else {\n        gameState.players[addr].isOnline = true;\n        gameState.players[addr].id = id;\n    }\n    updateData(gameState);\n    emitData(gameState, io);\n};\nconst quiz = __webpack_require__(/*! ./../q001.json */ \"(api)/./server_src/q001.json\");\nconst emitData = (gameState, io)=>{\n    io.emit(\"online-players\", getOnlinePlayers(gameState.players));\n    io.emit(\"game-data\", gameState.gameData);\n    io.emit(\"quiz-counter\", gameState.counter);\n    io.emit(\"quiz-data\", gameState.quizData);\n    io.emit(\"quiz-result\", gameState.quizResult);\n    io.fetchSockets().then((sockets)=>{\n        sockets.forEach((socketItem)=>{\n            const addr = socketItem.handshake.address;\n            const qNumber = gameState.gameData.quizNumber;\n            let clientQuizAnswer = {\n                answerIndex: -1,\n                answerTime: new Date(),\n                answerScore: 0,\n                answerElapsed: 0\n            };\n            if (qNumber > -1 && gameState.quizAnswers[gameState.gameData.quizNumber][addr]) {\n                clientQuizAnswer = gameState.quizAnswers[gameState.gameData.quizNumber][addr];\n            }\n            socketItem.emit(\"answer-data\", {\n                answerIndex: clientQuizAnswer.answerIndex,\n                answerTime: clientQuizAnswer.answerTime.getTime(),\n                answerScore: clientQuizAnswer.answerScore,\n                answerElapsed: clientQuizAnswer.answerElapsed\n            });\n        });\n    });\n};\nconst events = {\n    \"live-data\": (io, socket, gameState, msg)=>{\n        socket.emit(\"game-data\", gameState.gameData);\n    },\n    \"end-game\": (io, socket, gameState, msg, updateData)=>{\n        gameState.gameData.started = false;\n        gameState.gameData.quizStarted = false;\n        gameState.gameData.quizNumber = -1;\n        gameState.gameData.startedTime = new Date().getTime();\n        gameState.gameData.pin = \"\";\n        Object.keys(gameState.players).forEach((pKey)=>{\n            const currPlayer = gameState.players[pKey];\n            gameState.players[pKey] = {\n                ...currPlayer,\n                name: \"\",\n                score: 0,\n                isInRoom: false\n            };\n        });\n        gameState.players = lodash__WEBPACK_IMPORTED_MODULE_0___default().pickBy(gameState.players, (p)=>{\n            return p.isOnline;\n        });\n        gameState.counter = _src_utils_const__WEBPACK_IMPORTED_MODULE_1__.NOT_COUNTING;\n        gameState.quizAnswers = {};\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"start-game\": (io, socket, gameState, msg, updateData)=>{\n        gameState.gameData.started = true;\n        gameState.gameData.quizStarted = false;\n        gameState.gameData.startedTime = new Date().getTime();\n        gameState.gameData.pin = lodash__WEBPACK_IMPORTED_MODULE_0___default().range(0, 6).map(()=>lodash__WEBPACK_IMPORTED_MODULE_0___default().random(0, 9)\n        ).join(\"\");\n        gameState.counter = _src_utils_const__WEBPACK_IMPORTED_MODULE_1__.NOT_COUNTING;\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"start-quiz\": (io, socket, gameState, msg, updateData)=>{\n        gameState.counter = 3;\n        gameState.gameData.quizNumber = gameState.gameData.quizNumber + 1;\n        gameState.gameData.quizStarted = true;\n        gameState.quizAnswers[gameState.gameData.quizNumber] = {};\n        gameState.gameData.totalQuestions = quiz.questions.length;\n        emitData(gameState, io);\n        io.emit(\"quiz-counter\", _src_utils_const__WEBPACK_IMPORTED_MODULE_1__.GAME_STARTING);\n        const counterInterval = setInterval(()=>{\n            io.emit(\"quiz-counter\", gameState.counter);\n            if (gameState.counter === 0) {\n                const quizItem = quiz.questions[gameState.gameData.quizNumber];\n                gameState.quizData = {\n                    q: quizItem.question,\n                    video: quizItem.video,\n                    answers: quizItem.keyboard === \"TRUEFALSE\" ? [\n                        \"V\",\n                        \"F\"\n                    ] : quizItem.options\n                };\n                io.emit(\"quiz-data\", gameState.quizData);\n                clearInterval(counterInterval);\n                gameState.gameData.startedTime = new Date().getTime();\n                updateData(gameState);\n            } else {\n                gameState.counter--;\n                updateData(gameState);\n            }\n        }, 1000);\n    },\n    \"join-game\": (io, socket, gameState, msg, updateData)=>{\n        const addr = socket.handshake.address;\n        if (msg.pin === gameState.gameData.pin && gameState.gameData.started) {\n            gameState.players[addr].id = socket.id;\n            gameState.players[addr].isOnline = true;\n            gameState.players[addr].name = msg.name;\n            gameState.players[addr].isInRoom = true;\n            updateData(gameState);\n            emitData(gameState, io);\n        }\n    },\n    disconnect: (io, socket, gameState, msg, updateData)=>{\n        const addr = socket.handshake.address;\n        gameState.players[addr].isOnline = false;\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"answer-question\": (io, socket, gameState, answerIndex, updateData)=>{\n        const addr = socket.handshake.address;\n        const answerScore = getAnswerScore(gameState, answerIndex);\n        const answerResult = {\n            answerIndex,\n            answerTime: new Date(),\n            answerScore,\n            answerElapsed: new Date().getTime() - gameState.gameData.startedTime\n        };\n        if (!gameState.quizAnswers[gameState.gameData.quizNumber]) {\n            gameState.quizAnswers[gameState.gameData.quizNumber] = {};\n        }\n        gameState.quizAnswers[gameState.gameData.quizNumber][addr] = answerResult;\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"end-quiz\": (io, socket, gameState, msg, updateData)=>{\n        gameState.counter = _src_utils_const__WEBPACK_IMPORTED_MODULE_1__.SHOW_RESULTS;\n        gameState.gameData.resultStep = 0;\n        const quizNumber = gameState.gameData.quizNumber;\n        const quizQuestion = quiz.questions[quizNumber];\n        let options;\n        switch(quizQuestion.keyboard){\n            case \"ABCD\":\n                var ref;\n                options = (ref = quizQuestion.options) === null || ref === void 0 ? void 0 : ref.map((q, i)=>i\n                );\n                break;\n            case \"TRUEFALSE\":\n                options = [\n                    true,\n                    false\n                ];\n        }\n        const resultsByAnswer = options.map((q, i)=>{\n            return {\n                answerCode: lodash__WEBPACK_IMPORTED_MODULE_0___default().isBoolean(q) ? [\n                    \"V\",\n                    \"F\"\n                ][i] : String.fromCharCode(65 + i),\n                people: Object.keys(lodash__WEBPACK_IMPORTED_MODULE_0___default().pickBy(gameState.quizAnswers[quizNumber], (addr)=>{\n                    return addr.answerIndex === q;\n                })).length\n            };\n        });\n        gameState.quizResult = {\n            title: quiz.title,\n            correctAnswer: quizQuestion.answer,\n            answers: resultsByAnswer\n        };\n        updateData(gameState);\n        emitData(gameState, io);\n    },\n    \"next-resultstep\": (io, socket, gameState, msg, updateData)=>{\n        if (gameState.gameData.resultStep < 2) {\n            gameState.gameData.resultStep = gameState.gameData.resultStep + 1;\n            updateData(gameState);\n            emitData(gameState, io);\n        } else {\n            events[\"start-quiz\"](io, socket, gameState, msg, updateData);\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLFlBQVksQ0FBQyxDQUFDdkIsRUFBRSxFQUFFQyxNQUFNLEVBQUVyQixTQUFTLEVBQUU0QyxHQUFHLEVBQUV0QixVQUFVLENBQUMsQ0FBQztTQUM5RDtLQUNGO0NBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JlYXQtdGhlLW11c2ljLy4vc2VydmVyX3NyYy9zb2NrZXQvZXZlbnRzLnRzP2Q1ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8sIHsgdXBkYXRlIH0gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgU2VydmVyLCBTb2NrZXQgfSBmcm9tIFwic29ja2V0LmlvXCI7XG5pbXBvcnQgeyBEZWZhdWx0RXZlbnRzTWFwIH0gZnJvbSBcInNvY2tldC5pby9kaXN0L3R5cGVkLWV2ZW50c1wiO1xuaW1wb3J0IHtcbiAgR0FNRV9TVEFSVElORyxcbiAgTk9UX0NPVU5USU5HLFxuICBTSE9XX1JFU1VMVFMsXG59IGZyb20gXCIuLi8uLi9zcmMvdXRpbHMvY29uc3RcIjtcbmltcG9ydCB7XG4gIFBsYXllcnMsXG4gIFF1aXpBbnN3ZXIsXG4gIFF1aXpFbnRyeSxcbiAgUXVpelJlc3VsdEFuc3dlcixcbiAgU2luZ2xlQW5zd2VyLFxuICBTb2NrZXREYXRhLFxufSBmcm9tIFwiLi4vaW50ZXJmYWNlc1wiO1xuXG5leHBvcnQgdHlwZSBTb2NrZXRFdmVudCA9XG4gIHwgXCJzdGFydC1nYW1lXCJcbiAgfCBcImVuZC1nYW1lXCJcbiAgfCBcImpvaW4tZ2FtZVwiXG4gIHwgXCJkaXNjb25uZWN0XCJcbiAgfCBcImxpdmUtZGF0YVwiXG4gIHwgXCJzdGFydC1xdWl6XCJcbiAgfCBcImFuc3dlci1xdWVzdGlvblwiXG4gIHwgXCJlbmQtcXVpelwiXG4gIHwgXCJuZXh0LXJlc3VsdHN0ZXBcIjtcblxudHlwZSBJSU8gPSBTZXJ2ZXI8RGVmYXVsdEV2ZW50c01hcCwgRGVmYXVsdEV2ZW50c01hcCwgRGVmYXVsdEV2ZW50c01hcCwgYW55PjtcbnR5cGUgSVNvY2tldCA9IFNvY2tldDxcbiAgRGVmYXVsdEV2ZW50c01hcCxcbiAgRGVmYXVsdEV2ZW50c01hcCxcbiAgRGVmYXVsdEV2ZW50c01hcCxcbiAgYW55XG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50RGF0YUZuIHtcbiAgaW86IElJTztcbiAgc29ja2V0OiBJU29ja2V0O1xuICBnYW1lU3RhdGU6IFNvY2tldERhdGE7XG4gIG1zZzogYW55O1xuICB1cGRhdGVEYXRhOiAoZ2FtZVN0YXRlOiBTb2NrZXREYXRhKSA9PiB2b2lkO1xufVxuXG50eXBlIEV2ZW50RGF0YSA9IHtcbiAgW2sgaW4gU29ja2V0RXZlbnRdOiAoXG4gICAgaW86IElJTyxcbiAgICBzb2NrZXQ6IElTb2NrZXQsXG4gICAgZ2FtZVN0YXRlOiBTb2NrZXREYXRhLFxuICAgIG1zZzogYW55LFxuICAgIHVwZGF0ZURhdGE6IChnYW1lU3RhdGU6IFNvY2tldERhdGEpID0+IHZvaWRcbiAgKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9ubGluZVBsYXllcnMgPSAocGxheWVyczogUGxheWVycykgPT4ge1xuICByZXR1cm4gXy5waWNrQnkocGxheWVycywgKHVzZXIpID0+IHVzZXIuaXNPbmxpbmUgJiYgdXNlci5pc0luUm9vbSk7XG59O1xuXG5jb25zdCBnZXRBbnN3ZXJTY29yZSA9IChnYW1lU3RhdGU6IFNvY2tldERhdGEsIGFuc3dlckluZGV4OiBudW1iZXIpID0+IHtcbiAgY29uc3QgcU51bWJlciA9IGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyO1xuICBjb25zdCBjb3JyZWN0QW5zd2VyID0gcXVpei5xdWVzdGlvbnNbcU51bWJlcl0uYW5zd2VyO1xuICBjb25zdCBpc0NvcnJlY3QgPSBhbnN3ZXJJbmRleCA9PT0gY29ycmVjdEFuc3dlcjtcbiAgbGV0IHNjb3JlID0gMDtcbiAgaWYgKGlzQ29ycmVjdCkge1xuICAgIHNjb3JlID0gMTtcbiAgICBjb25zdCBhZGRyS2V5cyA9IE9iamVjdC5rZXlzKGdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1txTnVtYmVyXSk7XG4gICAgaWYgKGFkZHJLZXlzICYmIGFkZHJLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFkZHJLZXlzLmZvckVhY2goKGFkZHIpID0+IHtcbiAgICAgICAgY29uc3QgYW5zd2VySXRlbSA9IGdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1txTnVtYmVyXVthZGRyXTtcbiAgICAgICAgaWYgKGFuc3dlckl0ZW0uYW5zd2VySW5kZXggIT09IGNvcnJlY3RBbnN3ZXIpIHtcbiAgICAgICAgICBzY29yZSA9IDI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY29yZSA9IDI7XG4gICAgfVxuICB9XG4gIHJldHVybiBzY29yZTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb25uZWN0UGxheWVyID0gKFxuICBnYW1lU3RhdGU6IFNvY2tldERhdGEsXG4gIGlvOiBTZXJ2ZXI8RGVmYXVsdEV2ZW50c01hcCwgRGVmYXVsdEV2ZW50c01hcCwgRGVmYXVsdEV2ZW50c01hcCwgYW55PixcbiAgc29ja2V0OiBTb2NrZXQ8RGVmYXVsdEV2ZW50c01hcCwgRGVmYXVsdEV2ZW50c01hcCwgRGVmYXVsdEV2ZW50c01hcCwgYW55PixcbiAgdXBkYXRlRGF0YTogKGdhbWVTdGF0ZTogU29ja2V0RGF0YSkgPT4gdm9pZFxuKSA9PiB7XG4gIGNvbnN0IGFkZHIgPSBzb2NrZXQuaGFuZHNoYWtlLmFkZHJlc3M7XG4gIGNvbnN0IGlkID0gc29ja2V0LmlkO1xuICBpZiAoIWdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdKSB7XG4gICAgZ2FtZVN0YXRlLnBsYXllcnNbYWRkcl0gPSB7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgc2NvcmU6IDAsXG4gICAgICBpc09ubGluZTogdHJ1ZSxcbiAgICAgIGlzSW5Sb29tOiBmYWxzZSxcbiAgICAgIGlkLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgZ2FtZVN0YXRlLnBsYXllcnNbYWRkcl0uaXNPbmxpbmUgPSB0cnVlO1xuICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdLmlkID0gaWQ7XG4gIH1cbiAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICBlbWl0RGF0YShnYW1lU3RhdGUsIGlvKTtcbn07XG5cbmNvbnN0IHF1aXogPSByZXF1aXJlKFwiLi8uLi9xMDAxLmpzb25cIikgYXMgUXVpekVudHJ5O1xuXG5leHBvcnQgY29uc3QgZW1pdERhdGEgPSAoXG4gIGdhbWVTdGF0ZTogU29ja2V0RGF0YSxcbiAgaW86IFNlcnZlcjxEZWZhdWx0RXZlbnRzTWFwLCBEZWZhdWx0RXZlbnRzTWFwLCBEZWZhdWx0RXZlbnRzTWFwLCBhbnk+XG4pID0+IHtcbiAgaW8uZW1pdChcIm9ubGluZS1wbGF5ZXJzXCIsIGdldE9ubGluZVBsYXllcnMoZ2FtZVN0YXRlLnBsYXllcnMpKTtcbiAgaW8uZW1pdChcImdhbWUtZGF0YVwiLCBnYW1lU3RhdGUuZ2FtZURhdGEpO1xuICBpby5lbWl0KFwicXVpei1jb3VudGVyXCIsIGdhbWVTdGF0ZS5jb3VudGVyKTtcbiAgaW8uZW1pdChcInF1aXotZGF0YVwiLCBnYW1lU3RhdGUucXVpekRhdGEpO1xuICBpby5lbWl0KFwicXVpei1yZXN1bHRcIiwgZ2FtZVN0YXRlLnF1aXpSZXN1bHQpO1xuXG4gIGlvLmZldGNoU29ja2V0cygpLnRoZW4oKHNvY2tldHMpID0+IHtcbiAgICBzb2NrZXRzLmZvckVhY2goKHNvY2tldEl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGFkZHIgPSBzb2NrZXRJdGVtLmhhbmRzaGFrZS5hZGRyZXNzO1xuICAgICAgY29uc3QgcU51bWJlciA9IGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyO1xuICAgICAgbGV0IGNsaWVudFF1aXpBbnN3ZXI6IFNpbmdsZUFuc3dlciA9IHtcbiAgICAgICAgYW5zd2VySW5kZXg6IC0xLFxuICAgICAgICBhbnN3ZXJUaW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgICBhbnN3ZXJTY29yZTogMCxcbiAgICAgICAgYW5zd2VyRWxhcHNlZDogMCxcbiAgICAgIH07XG5cbiAgICAgIGlmIChcbiAgICAgICAgcU51bWJlciA+IC0xICYmXG4gICAgICAgIGdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1tnYW1lU3RhdGUuZ2FtZURhdGEucXVpek51bWJlcl1bYWRkcl1cbiAgICAgICkge1xuICAgICAgICBjbGllbnRRdWl6QW5zd2VyID1cbiAgICAgICAgICBnYW1lU3RhdGUucXVpekFuc3dlcnNbZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpOdW1iZXJdW2FkZHJdO1xuICAgICAgfVxuICAgICAgc29ja2V0SXRlbS5lbWl0KFwiYW5zd2VyLWRhdGFcIiwge1xuICAgICAgICBhbnN3ZXJJbmRleDogY2xpZW50UXVpekFuc3dlci5hbnN3ZXJJbmRleCxcbiAgICAgICAgYW5zd2VyVGltZTogY2xpZW50UXVpekFuc3dlci5hbnN3ZXJUaW1lLmdldFRpbWUoKSxcbiAgICAgICAgYW5zd2VyU2NvcmU6IGNsaWVudFF1aXpBbnN3ZXIuYW5zd2VyU2NvcmUsXG4gICAgICAgIGFuc3dlckVsYXBzZWQ6IGNsaWVudFF1aXpBbnN3ZXIuYW5zd2VyRWxhcHNlZCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBldmVudHM6IEV2ZW50RGF0YSA9IHtcbiAgXCJsaXZlLWRhdGFcIjogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnKSA9PiB7XG4gICAgc29ja2V0LmVtaXQoXCJnYW1lLWRhdGFcIiwgZ2FtZVN0YXRlLmdhbWVEYXRhKTtcbiAgfSxcbiAgXCJlbmQtZ2FtZVwiOiAoaW8sIHNvY2tldCwgZ2FtZVN0YXRlLCBtc2csIHVwZGF0ZURhdGEpID0+IHtcbiAgICBnYW1lU3RhdGUuZ2FtZURhdGEuc3RhcnRlZCA9IGZhbHNlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6U3RhcnRlZCA9IGZhbHNlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyID0gLTE7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLnN0YXJ0ZWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLnBpbiA9IFwiXCI7XG4gICAgT2JqZWN0LmtleXMoZ2FtZVN0YXRlLnBsYXllcnMpLmZvckVhY2goKHBLZXkpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJQbGF5ZXIgPSBnYW1lU3RhdGUucGxheWVyc1twS2V5XTtcbiAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW3BLZXldID0ge1xuICAgICAgICAuLi5jdXJyUGxheWVyLFxuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBzY29yZTogMCxcbiAgICAgICAgaXNJblJvb206IGZhbHNlLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICBnYW1lU3RhdGUucGxheWVycyA9IF8ucGlja0J5KGdhbWVTdGF0ZS5wbGF5ZXJzLCAocCkgPT4ge1xuICAgICAgcmV0dXJuIHAuaXNPbmxpbmU7XG4gICAgfSk7XG4gICAgZ2FtZVN0YXRlLmNvdW50ZXIgPSBOT1RfQ09VTlRJTkc7XG4gICAgZ2FtZVN0YXRlLnF1aXpBbnN3ZXJzID0ge307XG4gICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgIGVtaXREYXRhKGdhbWVTdGF0ZSwgaW8pO1xuICB9LFxuICBcInN0YXJ0LWdhbWVcIjogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnLCB1cGRhdGVEYXRhKSA9PiB7XG4gICAgZ2FtZVN0YXRlLmdhbWVEYXRhLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6U3RhcnRlZCA9IGZhbHNlO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5zdGFydGVkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5waW4gPSBfLnJhbmdlKDAsIDYpXG4gICAgICAubWFwKCgpID0+IF8ucmFuZG9tKDAsIDkpKVxuICAgICAgLmpvaW4oXCJcIik7XG4gICAgZ2FtZVN0YXRlLmNvdW50ZXIgPSBOT1RfQ09VTlRJTkc7XG4gICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgIGVtaXREYXRhKGdhbWVTdGF0ZSwgaW8pO1xuICB9LFxuICBcInN0YXJ0LXF1aXpcIjogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnLCB1cGRhdGVEYXRhKSA9PiB7XG4gICAgZ2FtZVN0YXRlLmNvdW50ZXIgPSAzO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyID0gZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpOdW1iZXIgKyAxO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6U3RhcnRlZCA9IHRydWU7XG4gICAgZ2FtZVN0YXRlLnF1aXpBbnN3ZXJzW2dhbWVTdGF0ZS5nYW1lRGF0YS5xdWl6TnVtYmVyXSA9IHt9O1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS50b3RhbFF1ZXN0aW9ucyA9IHF1aXoucXVlc3Rpb25zLmxlbmd0aDtcbiAgICBlbWl0RGF0YShnYW1lU3RhdGUsIGlvKTtcbiAgICBpby5lbWl0KFwicXVpei1jb3VudGVyXCIsIEdBTUVfU1RBUlRJTkcpO1xuICAgIGNvbnN0IGNvdW50ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlvLmVtaXQoXCJxdWl6LWNvdW50ZXJcIiwgZ2FtZVN0YXRlLmNvdW50ZXIpO1xuICAgICAgaWYgKGdhbWVTdGF0ZS5jb3VudGVyID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHF1aXpJdGVtID0gcXVpei5xdWVzdGlvbnNbZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpOdW1iZXJdO1xuICAgICAgICBnYW1lU3RhdGUucXVpekRhdGEgPSB7XG4gICAgICAgICAgcTogcXVpekl0ZW0ucXVlc3Rpb24sXG4gICAgICAgICAgdmlkZW86IHF1aXpJdGVtLnZpZGVvLFxuICAgICAgICAgIGFuc3dlcnM6XG4gICAgICAgICAgICBxdWl6SXRlbS5rZXlib2FyZCA9PT0gXCJUUlVFRkFMU0VcIiA/IFtcIlZcIiwgXCJGXCJdIDogcXVpekl0ZW0ub3B0aW9ucyEsXG4gICAgICAgIH07XG4gICAgICAgIGlvLmVtaXQoXCJxdWl6LWRhdGFcIiwgZ2FtZVN0YXRlLnF1aXpEYXRhKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGVySW50ZXJ2YWwpO1xuICAgICAgICBnYW1lU3RhdGUuZ2FtZURhdGEuc3RhcnRlZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2FtZVN0YXRlLmNvdW50ZXItLTtcbiAgICAgICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9LFxuICBcImpvaW4tZ2FtZVwiOiAoaW8sIHNvY2tldCwgZ2FtZVN0YXRlLCBtc2csIHVwZGF0ZURhdGEpID0+IHtcbiAgICBjb25zdCBhZGRyID0gc29ja2V0LmhhbmRzaGFrZS5hZGRyZXNzO1xuICAgIGlmIChtc2cucGluID09PSBnYW1lU3RhdGUuZ2FtZURhdGEucGluICYmIGdhbWVTdGF0ZS5nYW1lRGF0YS5zdGFydGVkKSB7XG4gICAgICBnYW1lU3RhdGUucGxheWVyc1thZGRyXS5pZCA9IHNvY2tldC5pZDtcbiAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdLmlzT25saW5lID0gdHJ1ZTtcbiAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdLm5hbWUgPSBtc2cubmFtZTtcbiAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW2FkZHJdLmlzSW5Sb29tID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZURhdGEoZ2FtZVN0YXRlKTtcbiAgICAgIGVtaXREYXRhKGdhbWVTdGF0ZSwgaW8pO1xuICAgIH1cbiAgfSxcbiAgZGlzY29ubmVjdDogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgbXNnLCB1cGRhdGVEYXRhKSA9PiB7XG4gICAgY29uc3QgYWRkciA9IHNvY2tldC5oYW5kc2hha2UuYWRkcmVzcztcbiAgICBnYW1lU3RhdGUucGxheWVyc1thZGRyXS5pc09ubGluZSA9IGZhbHNlO1xuICAgIHVwZGF0ZURhdGEoZ2FtZVN0YXRlKTtcbiAgICBlbWl0RGF0YShnYW1lU3RhdGUsIGlvKTtcbiAgfSxcbiAgXCJhbnN3ZXItcXVlc3Rpb25cIjogKGlvLCBzb2NrZXQsIGdhbWVTdGF0ZSwgYW5zd2VySW5kZXgsIHVwZGF0ZURhdGEpID0+IHtcbiAgICBjb25zdCBhZGRyID0gc29ja2V0LmhhbmRzaGFrZS5hZGRyZXNzO1xuICAgIGNvbnN0IGFuc3dlclNjb3JlID0gZ2V0QW5zd2VyU2NvcmUoZ2FtZVN0YXRlLCBhbnN3ZXJJbmRleCk7XG5cbiAgICBjb25zdCBhbnN3ZXJSZXN1bHQgPSB7XG4gICAgICBhbnN3ZXJJbmRleCxcbiAgICAgIGFuc3dlclRpbWU6IG5ldyBEYXRlKCksXG4gICAgICBhbnN3ZXJTY29yZSxcbiAgICAgIGFuc3dlckVsYXBzZWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gZ2FtZVN0YXRlLmdhbWVEYXRhLnN0YXJ0ZWRUaW1lLFxuICAgIH07XG5cbiAgICBpZiAoIWdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1tnYW1lU3RhdGUuZ2FtZURhdGEucXVpek51bWJlcl0pIHtcbiAgICAgIGdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1tnYW1lU3RhdGUuZ2FtZURhdGEucXVpek51bWJlcl0gPSB7fTtcbiAgICB9XG5cbiAgICBnYW1lU3RhdGUucXVpekFuc3dlcnNbZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpOdW1iZXJdW2FkZHJdID0gYW5zd2VyUmVzdWx0O1xuXG4gICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgIGVtaXREYXRhKGdhbWVTdGF0ZSwgaW8pO1xuICB9LFxuICBcImVuZC1xdWl6XCI6IChpbywgc29ja2V0LCBnYW1lU3RhdGUsIG1zZywgdXBkYXRlRGF0YSkgPT4ge1xuICAgIGdhbWVTdGF0ZS5jb3VudGVyID0gU0hPV19SRVNVTFRTO1xuICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5yZXN1bHRTdGVwID0gMDtcbiAgICBjb25zdCBxdWl6TnVtYmVyID0gZ2FtZVN0YXRlLmdhbWVEYXRhLnF1aXpOdW1iZXI7XG4gICAgY29uc3QgcXVpelF1ZXN0aW9uID0gcXVpei5xdWVzdGlvbnNbcXVpek51bWJlcl07XG5cbiAgICBsZXQgb3B0aW9ucztcbiAgICBzd2l0Y2ggKHF1aXpRdWVzdGlvbi5rZXlib2FyZCkge1xuICAgICAgY2FzZSBcIkFCQ0RcIjpcbiAgICAgICAgb3B0aW9ucyA9IHF1aXpRdWVzdGlvbi5vcHRpb25zPy5tYXAoKHEsIGkpID0+IGkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJUUlVFRkFMU0VcIjpcbiAgICAgICAgb3B0aW9ucyA9IFt0cnVlLCBmYWxzZV07XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0c0J5QW5zd2VyOiBRdWl6UmVzdWx0QW5zd2VyW10gPSBvcHRpb25zIS5tYXAoKHEsIGkpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuc3dlckNvZGU6IF8uaXNCb29sZWFuKHEpXG4gICAgICAgICAgPyBbXCJWXCIsIFwiRlwiXVtpXVxuICAgICAgICAgIDogU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGkpLFxuICAgICAgICBwZW9wbGU6IE9iamVjdC5rZXlzKFxuICAgICAgICAgIF8ucGlja0J5KGdhbWVTdGF0ZS5xdWl6QW5zd2Vyc1txdWl6TnVtYmVyXSwgKGFkZHIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhZGRyLmFuc3dlckluZGV4ID09PSBxO1xuICAgICAgICAgIH0pXG4gICAgICAgICkubGVuZ3RoLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGdhbWVTdGF0ZS5xdWl6UmVzdWx0ID0ge1xuICAgICAgdGl0bGU6IHF1aXoudGl0bGUsXG4gICAgICBjb3JyZWN0QW5zd2VyOiBxdWl6UXVlc3Rpb24uYW5zd2VyLFxuICAgICAgYW5zd2VyczogcmVzdWx0c0J5QW5zd2VyLFxuICAgIH07XG5cbiAgICB1cGRhdGVEYXRhKGdhbWVTdGF0ZSk7XG4gICAgZW1pdERhdGEoZ2FtZVN0YXRlLCBpbyk7XG4gIH0sXG4gIFwibmV4dC1yZXN1bHRzdGVwXCI6IChpbywgc29ja2V0LCBnYW1lU3RhdGUsIG1zZywgdXBkYXRlRGF0YSkgPT4ge1xuICAgIGlmIChnYW1lU3RhdGUuZ2FtZURhdGEucmVzdWx0U3RlcCA8IDIpIHtcbiAgICAgIGdhbWVTdGF0ZS5nYW1lRGF0YS5yZXN1bHRTdGVwID0gZ2FtZVN0YXRlLmdhbWVEYXRhLnJlc3VsdFN0ZXAgKyAxO1xuICAgICAgdXBkYXRlRGF0YShnYW1lU3RhdGUpO1xuICAgICAgZW1pdERhdGEoZ2FtZVN0YXRlLCBpbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50c1tcInN0YXJ0LXF1aXpcIl0oaW8sIHNvY2tldCwgZ2FtZVN0YXRlLCBtc2csIHVwZGF0ZURhdGEpO1xuICAgIH1cbiAgfSxcbn07XG4iXSwibmFtZXMiOlsiXyIsIkdBTUVfU1RBUlRJTkciLCJOT1RfQ09VTlRJTkciLCJTSE9XX1JFU1VMVFMiLCJnZXRPbmxpbmVQbGF5ZXJzIiwicGxheWVycyIsInBpY2tCeSIsInVzZXIiLCJpc09ubGluZSIsImlzSW5Sb29tIiwiZ2V0QW5zd2VyU2NvcmUiLCJnYW1lU3RhdGUiLCJhbnN3ZXJJbmRleCIsInFOdW1iZXIiLCJnYW1lRGF0YSIsInF1aXpOdW1iZXIiLCJjb3JyZWN0QW5zd2VyIiwicXVpeiIsInF1ZXN0aW9ucyIsImFuc3dlciIsImlzQ29ycmVjdCIsInNjb3JlIiwiYWRkcktleXMiLCJPYmplY3QiLCJrZXlzIiwicXVpekFuc3dlcnMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiYWRkciIsImFuc3dlckl0ZW0iLCJjb25uZWN0UGxheWVyIiwiaW8iLCJzb2NrZXQiLCJ1cGRhdGVEYXRhIiwiaGFuZHNoYWtlIiwiYWRkcmVzcyIsImlkIiwibmFtZSIsImVtaXREYXRhIiwicmVxdWlyZSIsImVtaXQiLCJjb3VudGVyIiwicXVpekRhdGEiLCJxdWl6UmVzdWx0IiwiZmV0Y2hTb2NrZXRzIiwidGhlbiIsInNvY2tldHMiLCJzb2NrZXRJdGVtIiwiY2xpZW50UXVpekFuc3dlciIsImFuc3dlclRpbWUiLCJEYXRlIiwiYW5zd2VyU2NvcmUiLCJhbnN3ZXJFbGFwc2VkIiwiZ2V0VGltZSIsImV2ZW50cyIsIm1zZyIsInN0YXJ0ZWQiLCJxdWl6U3RhcnRlZCIsInN0YXJ0ZWRUaW1lIiwicGluIiwicEtleSIsImN1cnJQbGF5ZXIiLCJwIiwicmFuZ2UiLCJtYXAiLCJyYW5kb20iLCJqb2luIiwidG90YWxRdWVzdGlvbnMiLCJjb3VudGVySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInF1aXpJdGVtIiwicSIsInF1ZXN0aW9uIiwidmlkZW8iLCJhbnN3ZXJzIiwia2V5Ym9hcmQiLCJvcHRpb25zIiwiY2xlYXJJbnRlcnZhbCIsImRpc2Nvbm5lY3QiLCJhbnN3ZXJSZXN1bHQiLCJyZXN1bHRTdGVwIiwicXVpelF1ZXN0aW9uIiwiaSIsInJlc3VsdHNCeUFuc3dlciIsImFuc3dlckNvZGUiLCJpc0Jvb2xlYW4iLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJwZW9wbGUiLCJ0aXRsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./server_src/socket/events.ts\n");

/***/ }),

/***/ "(api)/./src/utils/const.ts":
/*!****************************!*\
  !*** ./src/utils/const.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GAME_STARTING\": () => (/* binding */ GAME_STARTING),\n/* harmony export */   \"NOT_COUNTING\": () => (/* binding */ NOT_COUNTING),\n/* harmony export */   \"SHOW_RESULTS\": () => (/* binding */ SHOW_RESULTS),\n/* harmony export */   \"buttonColors\": () => (/* binding */ buttonColors)\n/* harmony export */ });\nconst SHOW_RESULTS = -3;\nconst GAME_STARTING = -2;\nconst NOT_COUNTING = -1;\nconst buttonColors = [\n    \"#00501F\",\n    \"#6D172D\",\n    \"#103569\",\n    \"#26262D\"\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvY29uc3QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztBQUN4QixNQUFNQyxhQUFhLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekIsTUFBTUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLE1BQU1DLFlBQVksR0FBRztJQUFDLFNBQVM7SUFBRSxTQUFTO0lBQUUsU0FBUztJQUFFLFNBQVM7Q0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVhdC10aGUtbXVzaWMvLi9zcmMvdXRpbHMvY29uc3QudHM/N2MwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU0hPV19SRVNVTFRTID0gLTM7XG5leHBvcnQgY29uc3QgR0FNRV9TVEFSVElORyA9IC0yO1xuZXhwb3J0IGNvbnN0IE5PVF9DT1VOVElORyA9IC0xO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkNvbG9ycyA9IFtcIiMwMDUwMUZcIiwgXCIjNkQxNzJEXCIsIFwiIzEwMzU2OVwiLCBcIiMyNjI2MkRcIl07XG4iXSwibmFtZXMiOlsiU0hPV19SRVNVTFRTIiwiR0FNRV9TVEFSVElORyIsIk5PVF9DT1VOVElORyIsImJ1dHRvbkNvbG9ycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/utils/const.ts\n");

/***/ }),

/***/ "(api)/./server_src/q001.json":
/*!******************************!*\
  !*** ./server_src/q001.json ***!
  \******************************/
/***/ ((module) => {

module.exports = JSON.parse('{"active":true,"title":"The first quiz","questions":[{"active":true,"question":"What is the name of the artist?","keyboard":"ABCD","answer":0,"options":["Maluma","Ozuna","Daddy Yankee","Nicky Jam"],"video":"question_000.mp4"},{"active":true,"question":"What is the missing word?","keyboard":"ABCD","answer":2,"options":["quiero","suave","suavecito","pasito"],"video":"question_001.mp4"},{"active":true,"question":"What is the title of song?","keyboard":"ABCD","answer":1,"options":["Un Beso","Carrettera","Corason","Mi Culpa"],"video":"question_002.mp4"},{"active":true,"question":"The author of song is Pharrell Williams?","keyboard":"TRUEFALSE","answer":false,"video":"question_003.mp4"},{"active":true,"question":"Find the title of song!","keyboard":"ABCD","answer":3,"options":["Around around","Around the word","The world","Around the world"],"video":"question_004.mp4"}]}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/socket.ts"));
module.exports = __webpack_exports__;

})();